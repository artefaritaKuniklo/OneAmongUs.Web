var ke=Object.defineProperty;var Te=(e,t,o)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var d=(e,t,o)=>(Te(e,typeof t!="symbol"?t+"":t,o),o);import{R as Le,W as Ee,X as xe,Y as je,Z as Re,$ as Ae,a0 as Ve,F as I,a1 as Ne,a2 as He,a3 as ze,a4 as qe,a5 as Fe,a6 as Ue,a7 as We,T as Je,M as ie,a8 as Ke,a9 as Ge,aa as Xe,ab as Qe,ac as Ye,ad as Ze,ae as et,af as tt,ag as st,ah as ae,ai as ot,q as _,n as f,c,a as l,aj as nt,ak as rt,al as it,am as at,an as lt,ao as ct,ap as dt,f as B,aq as ut,ar as pt,as as le,at as ht,au as mt,av as ft,aw as _t,ax as gt,ay as vt,az as wt,aA as bt,aB as $t,aC as yt,aD as Ct,aE as It,aF as St,aG as Bt,aH as Pt,aI as Mt,aJ as Ot,aK as Dt,aL as kt,aM as Tt,aN as Lt,aO as Et,aP as xt,aQ as jt,aR as Rt,aS as At,aT as Vt,aU as Nt,aV as Ht,aW as zt,aX as qt,aY as Ft,aZ as Ut,a_ as Wt,a$ as Jt,N as F,b0 as Kt,b1 as U,b2 as Gt,b3 as Xt,b4 as Qt,b5 as Yt,b6 as Zt,b7 as es,b8 as ts,b9 as ss,ba as os,bb as ns,bc as rs,bd as is,be as as,o as a,Q as ce,bf as ls,bg as cs,P as de,bh as ds,bi as us,bj as ps,bk as hs,bl as ms,bm as fs,L as S,bn as ue,e as E,bo as _s,bp as gs,bq as vs,br as ws,bs,bt as $s,bu as ys,bv as Cs,bw as Is,bx as Ss,by as Bs,bz as Ps,bA as Ms,b as m,bB as Os,bC as Ds,bD as ks,bE as Ts,bF as Ls,bG as Es,bH as xs,bI as js,bJ as Rs,bK as As,bL as Vs,bM as Ns,bN as Hs,bO as zs,bP as qs,bQ as Fs,bR as Us,bS as Ws,bT as Js,bU as Ks,v as pe,p as Gs,bV as Xs,bW as Qs,bX as Ys,bY as Zs,bZ as eo,b_ as to,b$ as so,w as Z,c0 as oo,m as he,c1 as no,c2 as ro,O as io,c3 as ao,C as $,V as y,c4 as j,c5 as D,c6 as K,_ as C,d as v,c7 as lo,I as me,c8 as co,t as h,c9 as se,u as O,h as L,k as G,i as fe,B as uo,ca as po,S as b,r as ho,H as _e,cb as R,j as mo,l as fo,D as _o,cc as go,g as oe,cd as ne}from"./index-7xGSGJiZ.js";import{i as vo,h as wo,b as bo,E as $o,_ as ge,a as yo,c as Co}from"./paper-plane-DtpTgr0m.js";import{_ as ee}from"./style-B5bVBMDy.js";import{$ as Io,a as re,J as So}from"./index-ab8010ff-O4yGMbNn.js";import{p as Bo}from"./data-Csml3z32.js";import{_ as ve}from"./SubmitPrompt-jKilaBpw.js";/**
* vue v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Po=()=>{},Mo=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Le,BaseTransitionPropsValidators:Ee,Comment:xe,DeprecationTypes:je,EffectScope:Re,ErrorCodes:Ae,ErrorTypeStrings:Ve,Fragment:I,KeepAlive:Ne,ReactiveEffect:He,Static:ze,Suspense:qe,Teleport:Fe,Text:Ue,TrackOpTypes:We,Transition:Je,TransitionGroup:ie,TriggerOpTypes:Ke,VueElement:Ge,assertNumber:Xe,callWithAsyncErrorHandling:Qe,callWithErrorHandling:Ye,camelize:Ze,capitalize:et,cloneVNode:tt,compatUtils:st,compile:Po,computed:ae,createApp:ot,createBlock:_,createCommentVNode:f,createElementBlock:c,createElementVNode:l,createHydrationRenderer:nt,createPropsRestProxy:rt,createRenderer:it,createSSRApp:at,createSlots:lt,createStaticVNode:ct,createTextVNode:dt,createVNode:B,customRef:ut,defineAsyncComponent:pt,defineComponent:le,defineCustomElement:ht,defineEmits:mt,defineExpose:ft,defineModel:_t,defineOptions:gt,defineProps:vt,defineSSRCustomElement:wt,defineSlots:bt,devtools:$t,effect:yt,effectScope:Ct,getCurrentInstance:It,getCurrentScope:St,getTransitionRawChildren:Bt,guardReactiveProps:Pt,h:Mt,handleError:Ot,hasInjectionContext:Dt,hydrate:kt,initCustomFormatter:Tt,initDirectivesForSSR:Lt,inject:Et,isMemoSame:xt,isProxy:jt,isReactive:Rt,isReadonly:At,isRef:Vt,isRuntimeOnly:Nt,isShallow:Ht,isVNode:zt,markRaw:qt,mergeDefaults:Ft,mergeModels:Ut,mergeProps:Wt,nextTick:Jt,normalizeClass:F,normalizeProps:Kt,normalizeStyle:U,onActivated:Gt,onBeforeMount:Xt,onBeforeUnmount:Qt,onBeforeUpdate:Yt,onDeactivated:Zt,onErrorCaptured:es,onMounted:ts,onRenderTracked:ss,onRenderTriggered:os,onScopeDispose:ns,onServerPrefetch:rs,onUnmounted:is,onUpdated:as,openBlock:a,popScopeId:ce,provide:ls,proxyRefs:cs,pushScopeId:de,queuePostFlushCb:ds,reactive:us,readonly:ps,ref:hs,registerRuntimeCompiler:ms,render:fs,renderList:S,renderSlot:ue,resolveComponent:E,resolveDirective:_s,resolveDynamicComponent:gs,resolveFilter:vs,resolveTransitionHooks:ws,setBlockTracking:bs,setDevtoolsHook:$s,setTransitionHooks:ys,shallowReactive:Cs,shallowReadonly:Is,shallowRef:Ss,ssrContextKey:Bs,ssrUtils:Ps,stop:Ms,toDisplayString:m,toHandlerKey:Os,toHandlers:Ds,toRaw:ks,toRef:Ts,toRefs:Ls,toValue:Es,transformVNodeArgs:xs,triggerRef:js,unref:Rs,useAttrs:As,useCssModule:Vs,useCssVars:Ns,useModel:Hs,useSSRContext:zs,useSlots:qs,useTransitionState:Fs,vModelCheckbox:Us,vModelDynamic:Ws,vModelRadio:Js,vModelSelect:Ks,vModelText:pe,vShow:Gs,version:Xs,warn:Qs,watch:Ys,watchEffect:Zs,watchPostEffect:eo,watchSyncEffect:to,withAsyncContext:so,withCtx:Z,withDefaults:oo,withDirectives:he,withKeys:no,withMemo:ro,withModifiers:io,withScopeId:ao},Symbol.toStringTag,{value:"Module"}));var Oo=(e,t,o,n)=>{for(var s=t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=i(s)||s);return s};let X=class extends y{constructor(){super(...arguments);d(this,"db","balloon-qwq");d(this,"sourceImg","https://one-among.us/favicon-large.png");d(this,"styles","")}created(){this.db="balloon-"+j(0,2147483648).toString(),this.sourceImg=vo()&&Math.random()<.65?"/img/balloons/balloon-p.png":`/img/balloons/balloon-${j(0,6)}.png`}mounted(){let t=Math.random()*(window.innerWidth-100);window.innerWidth>D.width&&(t=Math.random()*(D.width-100)+(window.innerWidth-D.width)/2),document.getElementById(this.db).style.left=t.toString()+"px",document.getElementById(this.db).style.bottom=j(D.min,D.max).toString()+"px",K(1e4,()=>{var o;(o=document.getElementById(this.db))==null||o.remove()})}mouseover(){document.getElementById(this.db).remove()}};X=Oo([$({components:{}})],X);const Do=["id"],ko=["src"];function To(e,t,o,n,s,r){return a(),c("div",{class:"balloon fly-to-top",id:e.db,onMouseover:t[0]||(t[0]=i=>e.mouseover())},[l("img",{src:e.sourceImg,class:"balloonImg",style:U(e.styles)},null,12,ko)],40,Do)}const we=C(X,[["render",To]]);var Lo=Object.defineProperty,Eo=Object.getOwnPropertyDescriptor,be=(e,t,o,n)=>{for(var s=n>1?void 0:n?Eo(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&Lo(t,o,s),s};let A=class extends y{constructor(){super(...arguments);d(this,"platforms")}};be([v({required:!0})],A.prototype,"platforms",2);A=be([$({components:{ChannelBackupButton:ee}})],A);const xo={id:"BackupButtons"};function jo(e,t,o,n,s,r){const i=ee;return a(),c("div",xo,[(a(!0),c(I,null,S(e.platforms,u=>(a(),_(i,{key:u,platform:u},null,8,["platform"]))),128))])}const Ro=C(A,[["render",jo],["__scopeId","data-v-a89a7b6f"]]);var Ao=Object.defineProperty,Vo=Object.getOwnPropertyDescriptor,$e=(e,t,o,n)=>{for(var s=n>1?void 0:n?Vo(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&Ao(t,o,s),s};let V=class extends y{constructor(){super(...arguments);d(this,"data")}};$e([v({required:!0})],V.prototype,"data",2);V=$e([$({})],V);const No={class:"banner"},Ho={class:"img-container"},zo=["src"],qo={class:"content"},Fo=["textContent"],Uo=["textContent"];function Wo(e,t,o,n,s,r){return a(),c("div",No,[l("div",Ho,[l("img",{src:e.data.icon},null,8,zo)]),l("div",qo,[l("h3",{textContent:m(e.data.title)},null,8,Fo),l("p",{textContent:m(e.data.text)},null,8,Uo)])])}const Jo=C(V,[["render",Wo]]);var Ko=Object.defineProperty,Go=Object.getOwnPropertyDescriptor,ye=(e,t,o,n)=>{for(var s=n>1?void 0:n?Go(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&Ko(t,o,s),s};let N=class extends y{constructor(){super(...arguments);d(this,"messages")}};ye([v({required:!0})],N.prototype,"messages",2);N=ye([$({})],N);const Xo={class:"cd"},Qo=["innerHTML"];function Yo(e,t,o,n,s,r){return a(),c("div",Xo,[(a(!0),c(I,null,S(e.messages,i=>(a(),c("p",{key:i[0]},[(a(!0),c(I,null,S(i,u=>(a(),c("span",{key:u,innerHTML:u},null,8,Qo))),128))]))),128))])}const Zo=C(N,[["render",Yo]]),en={viewBox:"0 0 640 512",width:"1.2em",height:"1.2em"},tn=l("path",{fill:"currentColor",d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0z"},null,-1),sn=[tn];function on(e,t){return a(),c("svg",en,[...sn])}const nn={name:"fa6-solid-link",render:on};var rn=Object.defineProperty,an=Object.getOwnPropertyDescriptor,Ce=(e,t,o,n)=>{for(var s=n>1?void 0:n?an(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&rn(t,o,s),s};let H=class extends y{constructor(){super(...arguments);d(this,"icon")}getIcon(t){if(t=t.toLowerCase(),lo.includes(t))return`fab fa-${t}`;if(t.startsWith("custom-icon:"))return t.replace("custom-icon:","")}getIconifyIcon(t){if(t.startsWith("iconify:"))return t.replace("iconify:","")}};Ce([v()],H.prototype,"icon",2);H=Ce([$({components:{Icon:me}})],H);function ln(e,t,o,n,s,r){const i=E("Icon"),u=nn;return e.getIcon(e.icon)?(a(),c("i",{key:0,class:F(e.getIcon(e.icon))},null,2)):e.getIconifyIcon(e.icon)?(a(),_(i,{key:1,icon:e.getIconifyIcon(e.icon)},null,8,["icon"])):(a(),_(u,{key:2}))}const Ie=C(H,[["render",ln]]);var cn=Object.defineProperty,dn=Object.getOwnPropertyDescriptor,Se=(e,t,o,n)=>{for(var s=n>1?void 0:n?dn(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&cn(t,o,s),s};let z=class extends y{constructor(){super(...arguments);d(this,"viewerIndex",null);d(this,"photos");d(this,"photoList");d(this,"rotations",[])}created(){this.photoList=(typeof this.photos=="string"?JSON.parse(this.photos):this.photos).map(o=>({url:o})),this.rotations=this.photoList.map(()=>co(-15,15))}};Se([v()],z.prototype,"photos",2);z=Se([$({components:{ImageViewer:Io}})],z);const un={class:"ps-wrapper"},pn={id:"PhotoScroll"},hn=["src"];function mn(e,t,o,n,s,r){const i=E("ImageViewer");return a(),c("div",un,[l("div",pn,[(a(!0),c(I,null,S(e.photoList,(u,w)=>(a(),c("img",{key:w,src:u.url,alt:"",class:"stacked photo-frame-5",draggable:"false",style:U({transform:`translate(-50%, -50%) translateX(80px) rotate(${e.rotations[w]}deg)`,"z-index":e.photoList.length-w+1,"min-width":"150px","object-fit":"cover"}),onClick:t[0]||(t[0]=()=>e.viewerIndex=0)},null,12,hn))),128)),B(i,{index:e.viewerIndex,"onUpdate:index":t[1]||(t[1]=u=>e.viewerIndex=u),imgs:e.photoList},null,8,["index","imgs"])])])}const fn=C(z,[["render",mn]]);var _n=(e,t,o,n)=>{for(var s=t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=i(s)||s);return s};let Q=class extends y{constructor(){super(...arguments);d(this,"blur","");d(this,"isblur",!1)}mounted(){this.blur="filter: blur(5px);",this.isblur=!0}change(){this.isblur?this.blur="filter: none;":this.blur="filter: blur(5px);",this.isblur=!this.isblur}};Q=_n([$({})],Q);function gn(e,t,o,n,s,r){return a(),c("div",{class:"blur",style:U(e.blur),onClick:t[0]||(t[0]=i=>e.change())},[ue(e.$slots,"default")],4)}const vn=C(Q,[["render",gn]]),Be=le({name:"MDX",props:{code:{type:String,required:!0},margins:{type:Boolean,required:!1}},setup(e){const t=ae(()=>{if(!e.code)return null;const o=new Function("exports","Vue",e.code),n={};return o(n,Mo),n.default});return()=>{var o;return B("div",{class:"markdown-content",style:e.margins?{margin:"10px min(4vw, 40px)"}:{}},[(o=t.value)==null?void 0:o.call(t,{components:{PhotoScroll:fn,ChannelBackupButton:ee,CapDownQuote:Zo,BackupButtons:Ro,DynamicIcon:Ie,Banner:Jo,BlurBlock:vn}})])}}});var wn=(e,t,o,n)=>{for(var s=t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=i(s)||s);return s};let Y=class extends y{};Y=wn([$({components:{}})],Y);const bn={xmlns:"http://www.w3.org/2000/svg",class:"switching",viewBox:"0 0 24 24"},$n=l("g",{fill:"none",stroke:"rgba(166, 134, 89, 0.84)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[l("path",{d:"m18 2l3 3l-3 3M6 22l-3-3l3-3"}),l("path",{d:"M21 5H10a7 7 0 0 0-7 7m0 7h11a7 7 0 0 0 7-7"})],-1),yn=[$n];function Cn(e,t,o,n,s,r){return a(),c("svg",bn,yn)}const In=C(Y,[["render",Cn]]),Sn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Bn=l("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"},null,-1),Pn=l("path",{fill:"currentColor",d:"m469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),Mn=[Bn,Pn];function On(e,t){return a(),c("svg",Sn,[...Mn])}const Dn={name:"ep-edit",render:On},kn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Tn=l("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"},null,-1),Ln=[Tn];function En(e,t){return a(),c("svg",kn,[...Ln])}const xn={name:"ep-loading",render:En},jn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Rn=l("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744m-54.464-36.032a322 322 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),An=[Rn];function Vn(e,t){return a(),c("svg",jn,[...An])}const Nn={name:"ep-lollipop",render:Vn},Hn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},zn=l("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),qn=[zn];function Fn(e,t){return a(),c("svg",Hn,[...qn])}const Un={name:"ep-check",render:Fn};var Wn=Object.defineProperty,Jn=Object.getOwnPropertyDescriptor,W=(e,t,o,n)=>{for(var s=n>1?void 0:n?Jn(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&Wn(t,o,s),s};let k=class extends y{constructor(){super(...arguments);d(this,"userid");d(this,"p");d(this,"screenshotMode");d(this,"flowers",0);d(this,"flowersGiven",!1);d(this,"isBirthday",!1);d(this,"canSwitch",!1);d(this,"target",".");d(this,"sourceTarget",".");d(this,"inWarning",!1);d(this,"loading",new Set);d(this,"t",h)}created(){this.flowersGiven=localStorage.getItem(`last_flower_given@${this.userid}`)===se(),fetch(O(L,"birthday-list.json")).then(t=>t.json()).then(t=>{t=t;for(const o of t)if(o[0]==this.userid){const n=new Date(o[1]),s=new Date;s.getDate()==n.getDate()&&s.getMonth()==n.getMonth()&&(this.isBirthday=!0)}}),fetch(G+`/flowers/get?id=${this.userid}`).then(t=>t.text()).then(t=>{fe(`Flowers: ${t}`),this.flowers=parseInt(t)}),fetch(O(L,"switch-pair.json")).then(t=>t.json()).then(t=>{const o=t;for(const n of o)if(n[0]==this.userid){this.canSwitch=!0,this.target=`/profile/${n[1]}`,this.sourceTarget=this.target;const s=uo(O(L,"trigger-list.json"));JSON.parse(s).includes(n[1])&&(this.target=null,this.inWarning=!0)}})}flower(){this.flowersGiven||this.loading.has("flower")||(this.loading.add("flower"),fetch(G+`/flowers/give?id=${this.userid}`).then(()=>{this.flowers+=1,this.flowersGiven=!0,localStorage.setItem(`last_flower_given@${this.userid}`,se())}).finally(()=>this.loading.delete("flower")),wo(this.p.name),this.isBirthday&&bo(this.p.name))}get flowerText(){return po(this.flowers)}switchWarn(){this.inWarning&&b.fire({title:this.t.switch_warning.title,text:this.t.switch_warning.text,icon:"warning",showCancelButton:!1,showCloseButton:!1,showConfirmButton:!0,allowOutsideClick(){return!1},timer:3e5,timerProgressBar:!0,iconColor:"#d20f39",allowEscapeKey(){return!1},allowEnterKey(){return!1},customClass:"view-limit-alert"}).then(t=>{t.isConfirmed&&(this.target=this.sourceTarget,this.inWarning=!1)})}edit(){b.fire({title:h.nav_what_to_edit,icon:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:h.nav_profile_card,cancelButtonText:h.nav_introduction}).then(t=>{t.isConfirmed?ho.push(`/edit-info/${this.p.id}`):t.dismiss===b.DismissReason.cancel&&open(`https://github.com/one-among-us/data/tree/main/people/${this.userid}/page.md`)})}get profileUrl(){return _e(this.p.profileUrl,this.userid)}};W([v({required:!0})],k.prototype,"userid",2);W([v({required:!0})],k.prototype,"p",2);W([v({default:!1})],k.prototype,"screenshotMode",2);k=W([$({components:{Icon:me}})],k);const Kn="/favicon-large.png",x=e=>(de("data-v-971291ac"),e=e(),ce(),e),Gn={key:0,id:"info",class:"font-custom fbox-h"},Xn={id:"left",class:"fbox-v"},Qn=["src"],Yn=x(()=>l("div",{class:"spacer"},null,-1)),Zn={key:0,id:"buttons"},er={class:"button-container"},tr={class:"text-under-button"},sr={class:"button-container edit"},or=x(()=>l("div",{class:"text-under-button"},"Edit",-1)),nr=x(()=>l("div",{class:"spacer-bottom f-grow1"},null,-1)),rr={id:"right"},ir={id:"name-box"},ar={id:"name-text"},lr={id:"id"},cr=x(()=>l("div",{id:"hr"},null,-1)),dr={id:"fields",class:"f-grow1"},ur={class:"key"},pr={class:"value"},hr={key:0,id:"websites"},mr={id:"websites-text"},fr={id:"websites-container"},_r=["href"],gr=["href"],vr=x(()=>l("img",{class:"watermark",draggable:"false",src:Kn,alt:""},null,-1));function wr(e,t,o,n,s,r){var te;const i=Un,u=E("Icon"),w=Nn,p=xn,P=$o,M=Dn,Oe=Ie,De=In;return e.p?(a(),c("div",Gn,[l("div",Xn,[l("img",{src:e.profileUrl,draggable:"false",alt:"profile"},null,8,Qn),Yn,e.screenshotMode?f("",!0):(a(),c("div",Zn,[l("div",er,[B(P,{content:"献花","show-after":1e3,disabled:e.flowersGiven||e.loading.has("flower")},{default:Z(()=>[l("div",{class:F(["button anim fbox-vcenter",e.flowersGiven||e.loading.has("flower")?"disabled":""]),onClick:t[0]||(t[0]=(...g)=>e.flower&&e.flower(...g))},[e.flowersGiven?(a(),_(i,{key:0})):e.isBirthday&&!e.loading.has("flower")?(a(),_(u,{key:1,class:"iconR",icon:"line-md:cake"})):e.loading.has("flower")?(a(),_(p,{key:3})):(a(),_(w,{key:2}))],2)]),_:1},8,["disabled"]),l("div",tr,m(e.flowerText),1)]),l("div",sr,[l("div",{class:"button anim fbox-vcenter",onClick:t[1]||(t[1]=(...g)=>e.edit&&e.edit(...g))},[B(M)]),or])])),nr]),l("div",rr,[l("div",ir,[l("span",ar,m(e.p.name),1),l("span",lr,"@"+m(e.p.id),1)]),cr,l("ul",dr,[(a(!0),c(I,null,S(e.p.info,g=>(a(),c("li",{key:g[0]},[l("span",ur,m(g[0])+"：",1),l("span",pr,m(g[1]),1)]))),128))]),(te=e.p.websites)!=null&&te.length?(a(),c("div",hr,[l("span",mr,m(e.t.nav_website),1),l("span",fr,[(a(!0),c(I,null,S(e.p.websites,g=>(a(),c("a",{key:g[0],href:g[1],target:"_blank"},[B(Oe,{icon:g[0]},null,8,["icon"])],8,_r))),128))])])):f("",!0)]),e.canSwitch?(a(),c("a",{key:0,class:"switchButton",href:e.target,onClick:t[2]||(t[2]=g=>e.switchWarn()),draggable:"false"},[B(De)],8,gr)):f("",!0),vr])):f("",!0)}const Pe=C(k,[["render",wr],["__scopeId","data-v-971291ac"]]);var br=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,Me=(e,t,o,n)=>{for(var s=n>1?void 0:n?$r(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&br(t,o,s),s};let q=class extends y{constructor(){super(...arguments);d(this,"p");d(this,"textInputCache","");d(this,"textInputKey");d(this,"showCaptchaPrompt",!1);d(this,"comments",[]);d(this,"t",h);d(this,"trim",R)}getComments(){const o=this.p.comments.map(s=>({...s,anonymous:s.submitter==="Anonymous",content:re(s.content.replaceAll(`
`,"<br />")),replies:s.replies?s.replies.map(r=>({...r,content:re(r.content.replaceAll(`
`,"<br />"))})):[]})),n=JSON.parse(localStorage.getItem("myComments"));if(!n)return o;if(this.p.id in n&&n[this.p.id]!=null)for(const s of n[this.p.id]){let r=!0;for(const i of o)if(s.content.replaceAll("||","").replaceAll(`
`,"").replaceAll("<br />","").replaceAll(" ","")==i.content.replaceAll('<span class="spoiler"><span>',"").replaceAll("</span></span>","").replaceAll("<br />","").replaceAll(" ","")){r=!1;break}r&&o.push(s)}return o}btnSend(){this.showCaptchaPrompt=!0}submitRequest(o){this.showCaptchaPrompt=!1;const n={id:this.p.id,content:this.textInput,...o};fe(n),b.fire({title:h.nav_comment_submit,showConfirmButton:!1,icon:null,didOpen:()=>{b.showLoading(null),mo(G+"/comment/add",{method:"POST",params:n}).then(()=>{b.fire({title:h.nav_success,text:h.nav_success_text_reply,icon:"success",timer:5e3,timerProgressBar:!0,showConfirmButton:!0,confirmButtonText:h.nav_ok_1,showCloseButton:!0}),this.comments.push({content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0});let s=JSON.parse(localStorage.getItem("myComments"));s||(s={}),!(this.p.id in s)||s[this.p.id]==null?s[this.p.id]=[{content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0}]:s[this.p.id].push({content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0}),localStorage.setItem("myComments",JSON.stringify(s)),this.textInput="",this.resizeInput()}).catch(s=>{fo(s),b.fire({title:h.nav_failed,text:h.nav_fail_reason+s.message,icon:"error",timer:5e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!1}),this.resizeInput()})}})}created(){this.textInputKey=`draft-${this.p.id}`,this.textInputCache=localStorage.getItem(this.textInputKey)??"",this.comments=this.getComments(),localStorage.getItem("myComments")||localStorage.setItem("myComments","{}")}get textInput(){return R(this.textInputCache.trim(),`
`)}set textInput(o){this.textInputCache=o,localStorage.setItem(this.textInputKey,o)}mounted(){this.resizeInput(),So()}resizeInput(){const o=this.$refs.input;o&&(o.style.height="auto",o.style.height=`${o.scrollHeight+18}px`)}};Me([v()],q.prototype,"p",2);q=Me([$({components:{MarkdownTooltip:ge,SubmitPrompt:ve}})],q);const yr={id:"ProfileComments",class:"markdown-content"},Cr=["innerHTML"],Ir={key:0,class:"from anonymous"},Sr={key:1,class:"from"},Br={key:2,class:"replies"},Pr={class:"reply-title"},Mr=["innerHTML"],Or={class:"from"},Dr={key:1,id:"add-comment"},kr=["placeholder"],Tr={key:0,id:"send-comment-btn"},Lr={class:"char-count unselectable"};function Er(e,t,o,n,s,r){const i=yo,u=ge,w=ve;return a(),c("div",yr,[l("h1",null,m(e.p.id=="tdor"?"For Being Out And Proud——2024年跨性别现身日晚会 来信集合":e.t.nav_comments),1),e.p.comments.length>0?(a(),_(ie,{key:0,tag:"div",name:"comment-list",id:"comments"},{default:Z(()=>[(a(!0),c(I,null,S(e.comments,p=>(a(),c("div",{class:"comment",key:p.id},[l("span",{class:"content",innerHTML:p.content},null,8,Cr),p.anonymous?(a(),c("span",Ir,m(e.t.nav_anonymous),1)):(a(),c("span",Sr,"——"+m(p.submitter),1)),p.replies.length?(a(),c("div",Br,[l("div",Pr,m(e.t.nav_comment_in_reply_to)+" @"+m(p.submitter),1),(a(!0),c(I,null,S(p.replies,(P,M)=>(a(),c("div",{class:"reply",key:M},[l("span",{class:"content",innerHTML:P.content},null,8,Mr),l("span",Or,"——"+m(P.submitter),1)]))),128))])):f("",!0)]))),128))]),_:1})):f("",!0),e.p.id!="tdor"?(a(),c("div",Dr,[he(l("textarea",{id:"comment-textarea","onUpdate:modelValue":t[0]||(t[0]=p=>e.textInput=p),placeholder:e.t.nav_comment_placeholder,onInput:t[1]||(t[1]=(...p)=>e.resizeInput&&e.resizeInput(...p)),ref:"input"},null,40,kr),[[pe,e.textInput]]),e.textInput.trim().length>0?(a(),c("div",Tr,[l("span",Lr,m(e.trim(e.textInput.trim(),`
`).length)+" "+m(e.t.nav_comment_status),1),B(i,{class:"icon",onClick:e.btnSend},null,8,["onClick"])])):f("",!0),B(u,{"text-area-id":"comment-textarea"})])):f("",!0),e.showCaptchaPrompt?(a(),_(w,{key:2,onSubmit:e.submitRequest,onClose:t[2]||(t[2]=p=>e.showCaptchaPrompt=!1)},null,8,["onSubmit"])):f("",!0)])}const xr=C(q,[["render",Er]]);var jr=Object.defineProperty,Rr=Object.getOwnPropertyDescriptor,J=(e,t,o,n)=>{for(var s=n>1?void 0:n?Rr(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&jr(t,o,s),s};let T=class extends y{constructor(){super(...arguments);d(this,"userid");d(this,"screenshotMode");d(this,"lang");d(this,"p",null);d(this,"compiledMdxCode","");d(this,"isBirthday",[])}get pid(){return this.userid=="tdov"?"tdor":this.userid}created(){const o=_o(this.pid);localStorage.setItem("showBtn","1"),this.lang&&(go(this.lang),localStorage.setItem("showBtn","")),oe(O(o,"info.json")).then(n=>n.text()).then(n=>{this.p=Bo(n),this.pid=="tdor"&&(this.p.id="tdor")}),fetch(O(L,"birthday-list.json")).then(n=>n.json()).then(n=>{n=n;for(const s of n)if(s[0]==this.userid){const r=new Date(s[1]),i=new Date;if(i.getDate()==r.getDate()&&i.getMonth()==r.getMonth())for(let u=0;u<D.count;++u)this.isBirthday.push(j(0,2147483648))}}),this.pid!="tdor"&&(this.screenshotMode||oe(O(o,"page.json")).then(n=>n.json()).then(n=>this.compiledMdxCode=_e(n,this.pid)),this.checkViewLimit())}checkViewLimit(){if(this.screenshotMode)return;const o=ne,n=new Date,[s,r]=[localStorage.getItem("view_limit_time"),localStorage.getItem("view_limit_entries")],[i,u]=[new Date(s),JSON.parse(r??"[]")],w=(n.getTime()-i.getTime())/6e4;if(!s||!r||w>o.cooldown){localStorage.setItem("view_limit_time",new Date().toUTCString()),localStorage.setItem("view_limit_entries",JSON.stringify([this.userid]));return}if(u.includes(this.userid)||(u.push(this.userid),localStorage.setItem("view_limit_entries",JSON.stringify(u)),u.length==o.errorLimit&&localStorage.setItem("view_limit_time",new Date().toUTCString())),u.length>=o.warningLimit&&(console.log(`View limit reached ${o.warningLimit}`),b.fire({title:h.view_limit.title,text:h.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0})),u.length>=o.errorLimit){console.log(`View limit reached ${o.errorLimit}`),b.fire({title:h.view_limit.title,text:h.view_limit.error,icon:"error",showConfirmButton:!1,allowOutsideClick(){return!1},customClass:"view-limit-alert",allowEscapeKey(){return!1},allowEnterKey(){return!1}});const p=new MutationObserver(P=>{P.forEach(M=>{M.removedNodes.length!=0&&M.removedNodes[0].classList&&M.removedNodes[0].classList.contains("swal2-container")&&(p.disconnect(),setTimeout(()=>{b.fire({title:h.view_limit.dom_removed_title,text:h.view_limit.dom_removed,icon:"info"}),localStorage.removeItem("view_limit_time")},100))})});return p.observe(document.body,{childList:!0,subtree:!0}),!0}}updated(){K(250,()=>{Co(this.userid)}),K(1e3,()=>{fetch(O(L,"trigger-list.json")).then(o=>o.json()).then(o=>{if(o.includes(R(window.location.pathname.replace("/profile",""),"/"))){localStorage.getItem("view_limit_entries")||localStorage.setItem("view_limit_entries","[]");const n=JSON.parse(localStorage.getItem("view_limit_entries"));for(n.length<20&&b.fire({title:h.view_limit.title,text:h.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0});n.length<ne.errorLimit;)n.push(R(window.location.pathname.replace("/profile",""),"/"));localStorage.setItem("view_limit_entries",JSON.stringify(n))}})})}};J([v({required:!0})],T.prototype,"userid",2);J([v({default:!1})],T.prototype,"screenshotMode",2);J([v({default:""})],T.prototype,"lang",2);T=J([$({components:{ProfileCard:Pe,ProfileComments:xr,MDX:Be,Balloon:we}})],T);function Ar(e,t,o,n,s,r){const i=Pe,u=Be,w=we,p=E("ProfileComments");return a(),c("div",null,[e.p?(a(),c("div",{key:0,class:F(["profile-page",{screenshot:e.screenshotMode}])},[e.pid!="tdor"?(a(),_(i,{key:0,class:"profile-card",userid:e.pid,p:e.p,"screenshot-mode":e.screenshotMode},null,8,["userid","p","screenshot-mode"])):f("",!0),e.pid!="tdor"?(a(),_(u,{key:1,class:"content",code:e.compiledMdxCode},null,8,["code"])):f("",!0),(a(!0),c(I,null,S(e.isBirthday,P=>(a(),_(w,{key:P}))),128)),e.p.comments&&!e.screenshotMode?(a(),_(p,{key:2,class:"comments",p:e.p},null,8,["p"])):f("",!0)],2)):f("",!0)])}const Zr=C(T,[["render",Ar],["__scopeId","data-v-fe0c1e81"]]);export{Zr as default};
