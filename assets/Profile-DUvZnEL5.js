var Pe=Object.defineProperty;var Me=(e,t,o)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var c=(e,t,o)=>(Me(e,typeof t!="symbol"?t+"":t,o),o);import{R as Oe,W as Te,X as ke,Y as De,Z as Ee,$ as Le,a0 as xe,F as B,a1 as Re,a2 as je,a3 as Ae,a4 as Ve,a5 as Ne,a6 as ze,a7 as He,T as Fe,M as ne,a8 as Ue,a9 as We,aa as qe,ab as Je,ac as Ke,ad as Ge,ae as Xe,af as Ye,ag as Qe,ah as ie,ai as Ze,q as _,n as f,c as d,a as l,aj as et,ak as tt,al as st,am as ot,an as nt,ao as it,ap as at,f as $,aq as rt,ar as lt,as as ae,at as ct,au as dt,av as pt,aw as ut,ax as mt,ay as ht,az as ft,aA as _t,aB as gt,aC as vt,aD as wt,aE as bt,aF as $t,aG as yt,aH as Ct,aI as It,aJ as St,aK as Bt,aL as Pt,aM as Mt,aN as Ot,aO as Tt,aP as kt,aQ as Dt,aR as Et,aS as Lt,aT as xt,aU as Rt,aV as jt,aW as At,aX as Vt,aY as Nt,aZ as zt,a_ as Ht,a$ as Ft,N as F,b0 as Ut,b1 as X,b2 as Wt,b3 as qt,b4 as Jt,b5 as Kt,b6 as Gt,b7 as Xt,b8 as Yt,b9 as Qt,ba as Zt,bb as es,bc as ts,bd as ss,be as os,o as r,Q as re,bf as ns,bg as is,P as le,bh as as,bi as rs,bj as ls,bk as cs,bl as ds,bm as ps,L as P,bn as us,e as L,bo as ms,bp as hs,bq as fs,br as _s,bs as gs,bt as vs,bu as ws,bv as bs,bw as $s,bx as ys,by as Cs,bz as Is,bA as Ss,b as h,bB as Bs,bC as Ps,bD as Ms,bE as Os,bF as Ts,bG as ks,bH as Ds,bI as Es,bJ as Ls,bK as xs,bL as Rs,bM as js,bN as As,bO as Vs,bP as Ns,bQ as zs,bR as Hs,bS as Fs,bT as Us,bU as Ws,v as ce,p as qs,bV as Js,bW as Ks,bX as Gs,bY as Xs,bZ as Ys,b_ as Qs,b$ as Zs,w as Y,c0 as eo,m as de,c1 as to,c2 as so,O as oo,c3 as no,C as y,V as C,c4 as R,c5 as T,c6 as q,_ as I,d as b,c7 as io,I as pe,c8 as ao,t as m,c9 as ee,u as O,h as E,k as J,i as ue,B as ro,ca as lo,S as w,r as co,H as me,cb as j,j as po,l as uo,D as mo,cc as ho,g as te,cd as se}from"./index-iy7UHmVk.js";import{i as fo,h as _o,b as go,E as vo,_ as he,a as wo,c as bo}from"./paper-plane-BkjzE1Zo.js";import{_ as Q}from"./style-CaQNepEA.js";import{$ as $o,a as oe,J as yo}from"./index-ab8010ff-BRSJPhEL.js";import{p as Co}from"./data-Csml3z32.js";import{_ as fe}from"./SubmitPrompt-4Lv9xzsz.js";/**
* vue v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Io=()=>{},So=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Oe,BaseTransitionPropsValidators:Te,Comment:ke,DeprecationTypes:De,EffectScope:Ee,ErrorCodes:Le,ErrorTypeStrings:xe,Fragment:B,KeepAlive:Re,ReactiveEffect:je,Static:Ae,Suspense:Ve,Teleport:Ne,Text:ze,TrackOpTypes:He,Transition:Fe,TransitionGroup:ne,TriggerOpTypes:Ue,VueElement:We,assertNumber:qe,callWithAsyncErrorHandling:Je,callWithErrorHandling:Ke,camelize:Ge,capitalize:Xe,cloneVNode:Ye,compatUtils:Qe,compile:Io,computed:ie,createApp:Ze,createBlock:_,createCommentVNode:f,createElementBlock:d,createElementVNode:l,createHydrationRenderer:et,createPropsRestProxy:tt,createRenderer:st,createSSRApp:ot,createSlots:nt,createStaticVNode:it,createTextVNode:at,createVNode:$,customRef:rt,defineAsyncComponent:lt,defineComponent:ae,defineCustomElement:ct,defineEmits:dt,defineExpose:pt,defineModel:ut,defineOptions:mt,defineProps:ht,defineSSRCustomElement:ft,defineSlots:_t,devtools:gt,effect:vt,effectScope:wt,getCurrentInstance:bt,getCurrentScope:$t,getTransitionRawChildren:yt,guardReactiveProps:Ct,h:It,handleError:St,hasInjectionContext:Bt,hydrate:Pt,initCustomFormatter:Mt,initDirectivesForSSR:Ot,inject:Tt,isMemoSame:kt,isProxy:Dt,isReactive:Et,isReadonly:Lt,isRef:xt,isRuntimeOnly:Rt,isShallow:jt,isVNode:At,markRaw:Vt,mergeDefaults:Nt,mergeModels:zt,mergeProps:Ht,nextTick:Ft,normalizeClass:F,normalizeProps:Ut,normalizeStyle:X,onActivated:Wt,onBeforeMount:qt,onBeforeUnmount:Jt,onBeforeUpdate:Kt,onDeactivated:Gt,onErrorCaptured:Xt,onMounted:Yt,onRenderTracked:Qt,onRenderTriggered:Zt,onScopeDispose:es,onServerPrefetch:ts,onUnmounted:ss,onUpdated:os,openBlock:r,popScopeId:re,provide:ns,proxyRefs:is,pushScopeId:le,queuePostFlushCb:as,reactive:rs,readonly:ls,ref:cs,registerRuntimeCompiler:ds,render:ps,renderList:P,renderSlot:us,resolveComponent:L,resolveDirective:ms,resolveDynamicComponent:hs,resolveFilter:fs,resolveTransitionHooks:_s,setBlockTracking:gs,setDevtoolsHook:vs,setTransitionHooks:ws,shallowReactive:bs,shallowReadonly:$s,shallowRef:ys,ssrContextKey:Cs,ssrUtils:Is,stop:Ss,toDisplayString:h,toHandlerKey:Bs,toHandlers:Ps,toRaw:Ms,toRef:Os,toRefs:Ts,toValue:ks,transformVNodeArgs:Ds,triggerRef:Es,unref:Ls,useAttrs:xs,useCssModule:Rs,useCssVars:js,useModel:As,useSSRContext:Vs,useSlots:Ns,useTransitionState:zs,vModelCheckbox:Hs,vModelDynamic:Fs,vModelRadio:Us,vModelSelect:Ws,vModelText:ce,vShow:qs,version:Js,warn:Ks,watch:Gs,watchEffect:Xs,watchPostEffect:Ys,watchSyncEffect:Qs,withAsyncContext:Zs,withCtx:Y,withDefaults:eo,withDirectives:de,withKeys:to,withMemo:so,withModifiers:oo,withScopeId:no},Symbol.toStringTag,{value:"Module"}));var Bo=(e,t,o,n)=>{for(var s=t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=a(s)||s);return s};let K=class extends C{constructor(){super(...arguments);c(this,"db","balloon-qwq");c(this,"sourceImg","https://one-among.us/favicon-large.png");c(this,"styles","")}created(){this.db="balloon-"+R(0,2147483648).toString(),this.sourceImg=fo()&&Math.random()<.65?"/img/balloons/balloon-p.png":`/img/balloons/balloon-${R(0,6)}.png`}mounted(){let t=Math.random()*(window.innerWidth-100);window.innerWidth>T.width&&(t=Math.random()*(T.width-100)+(window.innerWidth-T.width)/2),document.getElementById(this.db).style.left=t.toString()+"px",document.getElementById(this.db).style.bottom=R(T.min,T.max).toString()+"px",q(1e4,()=>{var o;(o=document.getElementById(this.db))==null||o.remove()})}mouseover(){document.getElementById(this.db).remove()}};K=Bo([y({components:{}})],K);const Po=["id"],Mo=["src"];function Oo(e,t,o,n,s,i){return r(),d("div",{class:"balloon fly-to-top",id:e.db,onMouseover:t[0]||(t[0]=a=>e.mouseover())},[l("img",{src:e.sourceImg,class:"balloonImg",style:X(e.styles)},null,12,Mo)],40,Po)}const _e=I(K,[["render",Oo]]);var To=Object.defineProperty,ko=Object.getOwnPropertyDescriptor,ge=(e,t,o,n)=>{for(var s=n>1?void 0:n?ko(t,o):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&To(t,o,s),s};let A=class extends C{constructor(){super(...arguments);c(this,"platforms")}};ge([b({required:!0})],A.prototype,"platforms",2);A=ge([y({components:{ChannelBackupButton:Q}})],A);const Do={id:"BackupButtons"};function Eo(e,t,o,n,s,i){const a=Q;return r(),d("div",Do,[(r(!0),d(B,null,P(e.platforms,p=>(r(),_(a,{key:p,platform:p},null,8,["platform"]))),128))])}const Lo=I(A,[["render",Eo],["__scopeId","data-v-a89a7b6f"]]);var xo=Object.defineProperty,Ro=Object.getOwnPropertyDescriptor,ve=(e,t,o,n)=>{for(var s=n>1?void 0:n?Ro(t,o):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&xo(t,o,s),s};let V=class extends C{constructor(){super(...arguments);c(this,"data")}};ve([b({required:!0})],V.prototype,"data",2);V=ve([y({})],V);const jo={class:"banner"},Ao={class:"img-container"},Vo=["src"],No={class:"content"},zo=["textContent"],Ho=["textContent"];function Fo(e,t,o,n,s,i){return r(),d("div",jo,[l("div",Ao,[l("img",{src:e.data.icon},null,8,Vo)]),l("div",No,[l("h3",{textContent:h(e.data.title)},null,8,zo),l("p",{textContent:h(e.data.text)},null,8,Ho)])])}const Uo=I(V,[["render",Fo]]),Wo={viewBox:"0 0 640 512",width:"1.2em",height:"1.2em"},qo=l("path",{fill:"currentColor",d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0z"},null,-1),Jo=[qo];function Ko(e,t){return r(),d("svg",Wo,[...Jo])}const Go={name:"fa6-solid-link",render:Ko};var Xo=Object.defineProperty,Yo=Object.getOwnPropertyDescriptor,we=(e,t,o,n)=>{for(var s=n>1?void 0:n?Yo(t,o):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&Xo(t,o,s),s};let N=class extends C{constructor(){super(...arguments);c(this,"icon")}getIcon(t){if(t=t.toLowerCase(),io.includes(t))return`fab fa-${t}`;if(t.startsWith("custom-icon:"))return t.replace("custom-icon:","")}getIconifyIcon(t){if(t.startsWith("iconify:"))return t.replace("iconify:","")}};we([b()],N.prototype,"icon",2);N=we([y({components:{Icon:pe}})],N);function Qo(e,t,o,n,s,i){const a=L("Icon"),p=Go;return e.getIcon(e.icon)?(r(),d("i",{key:0,class:F(e.getIcon(e.icon))},null,2)):e.getIconifyIcon(e.icon)?(r(),_(a,{key:1,icon:e.getIconifyIcon(e.icon)},null,8,["icon"])):(r(),_(p,{key:2}))}const be=I(N,[["render",Qo]]);var Zo=Object.defineProperty,en=Object.getOwnPropertyDescriptor,$e=(e,t,o,n)=>{for(var s=n>1?void 0:n?en(t,o):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&Zo(t,o,s),s};let z=class extends C{constructor(){super(...arguments);c(this,"viewerIndex",null);c(this,"photos");c(this,"photoList");c(this,"rotations",[])}created(){this.photoList=(typeof this.photos=="string"?JSON.parse(this.photos):this.photos).map(o=>({url:o})),this.rotations=this.photoList.map(()=>ao(-15,15))}};$e([b()],z.prototype,"photos",2);z=$e([y({components:{ImageViewer:$o}})],z);const tn={class:"ps-wrapper"},sn={id:"PhotoScroll"},on=["src"];function nn(e,t,o,n,s,i){const a=L("ImageViewer");return r(),d("div",tn,[l("div",sn,[(r(!0),d(B,null,P(e.photoList,(p,v)=>(r(),d("img",{key:v,src:p.url,alt:"",class:"stacked photo-frame-5",draggable:"false",style:X({transform:`translate(-50%, -50%) translateX(80px) rotate(${e.rotations[v]}deg)`,"z-index":e.photoList.length-v+1,"min-width":"150px","object-fit":"cover"}),onClick:t[0]||(t[0]=()=>e.viewerIndex=0)},null,12,on))),128)),$(a,{index:e.viewerIndex,"onUpdate:index":t[1]||(t[1]=p=>e.viewerIndex=p),imgs:e.photoList},null,8,["index","imgs"])])])}const an=I(z,[["render",nn]]),ye=ae({name:"MDX",props:{code:{type:String,required:!0},margins:{type:Boolean,required:!1}},setup(e){const t=ie(()=>{if(!e.code)return null;const o=new Function("exports","Vue",e.code),n={};return o(n,So),n.default});return()=>{var o;return $("div",{class:"markdown-content",style:e.margins?{margin:"10px min(4vw, 40px)"}:{}},[(o=t.value)==null?void 0:o.call(t,{components:{PhotoScroll:an,ChannelBackupButton:Q,BackupButtons:Lo,DynamicIcon:be,Banner:Uo}})])}}});var rn=(e,t,o,n)=>{for(var s=t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=a(s)||s);return s};let G=class extends C{};G=rn([y({components:{}})],G);const ln={xmlns:"http://www.w3.org/2000/svg",class:"switching",viewBox:"0 0 24 24"},cn=l("g",{fill:"none",stroke:"rgba(166, 134, 89, 0.84)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[l("path",{d:"m18 2l3 3l-3 3M6 22l-3-3l3-3"}),l("path",{d:"M21 5H10a7 7 0 0 0-7 7m0 7h11a7 7 0 0 0 7-7"})],-1),dn=[cn];function pn(e,t,o,n,s,i){return r(),d("svg",ln,dn)}const un=I(G,[["render",pn]]),mn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},hn=l("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"},null,-1),fn=l("path",{fill:"currentColor",d:"m469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),_n=[hn,fn];function gn(e,t){return r(),d("svg",mn,[..._n])}const vn={name:"ep-edit",render:gn},wn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},bn=l("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"},null,-1),$n=[bn];function yn(e,t){return r(),d("svg",wn,[...$n])}const Cn={name:"ep-loading",render:yn},In={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Sn=l("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744m-54.464-36.032a322 322 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),Bn=[Sn];function Pn(e,t){return r(),d("svg",In,[...Bn])}const Mn={name:"ep-lollipop",render:Pn},On={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Tn=l("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),kn=[Tn];function Dn(e,t){return r(),d("svg",On,[...kn])}const En={name:"ep-check",render:Dn};var Ln=Object.defineProperty,xn=Object.getOwnPropertyDescriptor,U=(e,t,o,n)=>{for(var s=n>1?void 0:n?xn(t,o):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&Ln(t,o,s),s};let k=class extends C{constructor(){super(...arguments);c(this,"userid");c(this,"p");c(this,"screenshotMode");c(this,"flowers",0);c(this,"flowersGiven",!1);c(this,"isBirthday",!1);c(this,"canSwitch",!1);c(this,"target",".");c(this,"sourceTarget",".");c(this,"inWarning",!1);c(this,"loading",new Set);c(this,"t",m)}created(){this.flowersGiven=localStorage.getItem(`last_flower_given@${this.userid}`)===ee(),fetch(O(E,"birthday-list.json")).then(t=>t.json()).then(t=>{t=t;for(const o of t)if(o[0]==this.userid){const n=new Date(o[1]),s=new Date;s.getDate()==n.getDate()&&s.getMonth()==n.getMonth()&&(this.isBirthday=!0)}}),fetch(J+`/flowers/get?id=${this.userid}`).then(t=>t.text()).then(t=>{ue(`Flowers: ${t}`),this.flowers=parseInt(t)}),fetch(O(E,"switch-pair.json")).then(t=>t.json()).then(t=>{const o=t;for(const n of o)if(n[0]==this.userid){this.canSwitch=!0,this.target=`/profile/${n[1]}`,this.sourceTarget=this.target;const s=ro(O(E,"trigger-list.json"));JSON.parse(s).includes(n[1])&&(this.target=null,this.inWarning=!0)}})}flower(){this.flowersGiven||this.loading.has("flower")||(this.loading.add("flower"),fetch(J+`/flowers/give?id=${this.userid}`).then(()=>{this.flowers+=1,this.flowersGiven=!0,localStorage.setItem(`last_flower_given@${this.userid}`,ee())}).finally(()=>this.loading.delete("flower")),_o(this.p.name),this.isBirthday&&go(this.p.name))}get flowerText(){return lo(this.flowers)}switchWarn(){this.inWarning&&w.fire({title:this.t.switch_warning.title,text:this.t.switch_warning.text,icon:"warning",showCancelButton:!1,showCloseButton:!1,showConfirmButton:!0,allowOutsideClick(){return!1},timer:3e5,timerProgressBar:!0,iconColor:"#d20f39",allowEscapeKey(){return!1},allowEnterKey(){return!1},customClass:"view-limit-alert"}).then(t=>{t.isConfirmed&&(this.target=this.sourceTarget,this.inWarning=!1)})}edit(){w.fire({title:m.nav_what_to_edit,icon:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:m.nav_profile_card,cancelButtonText:m.nav_introduction}).then(t=>{t.isConfirmed?co.push(`/edit-info/${this.p.id}`):t.dismiss===w.DismissReason.cancel&&open(`https://github.com/one-among-us/data/tree/main/people/${this.userid}/page.md`)})}get profileUrl(){return me(this.p.profileUrl,this.userid)}};U([b({required:!0})],k.prototype,"userid",2);U([b({required:!0})],k.prototype,"p",2);U([b({default:!1})],k.prototype,"screenshotMode",2);k=U([y({components:{Icon:pe}})],k);const Rn="/favicon-large.png",x=e=>(le("data-v-d457d700"),e=e(),re(),e),jn={key:0,id:"info",class:"font-custom fbox-h"},An={id:"left",class:"fbox-v"},Vn=["src"],Nn=x(()=>l("div",{class:"spacer"},null,-1)),zn={key:0,id:"buttons"},Hn={class:"button-container"},Fn={class:"text-under-button"},Un={class:"button-container edit"},Wn=x(()=>l("div",{class:"text-under-button"},"Edit",-1)),qn=x(()=>l("div",{class:"spacer-bottom f-grow1"},null,-1)),Jn={id:"right"},Kn={id:"name-box"},Gn={id:"name-text"},Xn={id:"id"},Yn=x(()=>l("div",{id:"hr"},null,-1)),Qn={id:"fields",class:"f-grow1"},Zn={class:"key"},ei={class:"value"},ti={key:0,id:"websites"},si={id:"websites-text"},oi={id:"websites-container"},ni=["href"],ii=["href"],ai=x(()=>l("img",{class:"watermark",draggable:"false",src:Rn,alt:""},null,-1));function ri(e,t,o,n,s,i){var Z;const a=En,p=L("Icon"),v=Mn,u=Cn,S=vo,M=vn,Se=be,Be=un;return e.p?(r(),d("div",jn,[l("div",An,[l("img",{src:e.profileUrl,draggable:"false",alt:"profile"},null,8,Vn),Nn,e.screenshotMode?f("",!0):(r(),d("div",zn,[l("div",Hn,[$(S,{content:"献花","show-after":1e3,disabled:e.flowersGiven||e.loading.has("flower")},{default:Y(()=>[l("div",{class:F(["button anim fbox-vcenter",e.flowersGiven||e.loading.has("flower")?"disabled":""]),onClick:t[0]||(t[0]=(...g)=>e.flower&&e.flower(...g))},[e.flowersGiven?(r(),_(a,{key:0})):e.isBirthday&&!e.loading.has("flower")?(r(),_(p,{key:1,class:"iconR",icon:"line-md:cake"})):e.loading.has("flower")?(r(),_(u,{key:3})):(r(),_(v,{key:2}))],2)]),_:1},8,["disabled"]),l("div",Fn,h(e.flowerText),1)]),l("div",Un,[l("div",{class:"button anim fbox-vcenter",onClick:t[1]||(t[1]=(...g)=>e.edit&&e.edit(...g))},[$(M)]),Wn])])),qn]),l("div",Jn,[l("div",Kn,[l("span",Gn,h(e.p.name),1),l("span",Xn,"@"+h(e.p.id),1)]),Yn,l("ul",Qn,[(r(!0),d(B,null,P(e.p.info,g=>(r(),d("li",{key:g[0]},[l("span",Zn,h(g[0])+"：",1),l("span",ei,h(g[1]),1)]))),128))]),(Z=e.p.websites)!=null&&Z.length?(r(),d("div",ti,[l("span",si,h(e.t.nav_website),1),l("span",oi,[(r(!0),d(B,null,P(e.p.websites,g=>(r(),d("a",{key:g[0],href:g[1]},[$(Se,{icon:g[0]},null,8,["icon"])],8,ni))),128))])])):f("",!0)]),e.canSwitch?(r(),d("a",{key:0,class:"switchButton",href:e.target,onClick:t[2]||(t[2]=g=>e.switchWarn()),draggable:"false"},[$(Be)],8,ii)):f("",!0),ai])):f("",!0)}const Ce=I(k,[["render",ri],["__scopeId","data-v-d457d700"]]);var li=Object.defineProperty,ci=Object.getOwnPropertyDescriptor,Ie=(e,t,o,n)=>{for(var s=n>1?void 0:n?ci(t,o):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&li(t,o,s),s};let H=class extends C{constructor(){super(...arguments);c(this,"p");c(this,"textInputCache","");c(this,"textInputKey");c(this,"showCaptchaPrompt",!1);c(this,"comments",[]);c(this,"t",m);c(this,"trim",j)}getComments(){const o=this.p.comments.map(s=>({...s,anonymous:s.submitter==="Anonymous",content:oe(s.content.replaceAll(`
`,"<br />")),replies:s.replies?s.replies.map(i=>({...i,content:oe(i.content.replaceAll(`
`,"<br />"))})):[]})),n=JSON.parse(localStorage.getItem("myComments"));if(!n)return o;if(this.p.id in n&&n[this.p.id]!=null)for(const s of n[this.p.id]){let i=!0;for(const a of o)if(s.content.replaceAll("||","").replaceAll(`
`,"").replaceAll("<br />","").replaceAll(" ","")==a.content.replaceAll('<span class="spoiler"><span>',"").replaceAll("</span></span>","").replaceAll("<br />","").replaceAll(" ","")){i=!1;break}i&&o.push(s)}return o}btnSend(){this.showCaptchaPrompt=!0}submitRequest(o){this.showCaptchaPrompt=!1;const n={id:this.p.id,content:this.textInput,...o};ue(n),w.fire({title:m.nav_comment_submit,showConfirmButton:!1,icon:null,didOpen:()=>{w.showLoading(null),po(J+"/comment/add",{method:"POST",params:n}).then(()=>{w.fire({title:m.nav_success,text:m.nav_success_text_reply,icon:"success",timer:5e3,timerProgressBar:!0,showConfirmButton:!0,confirmButtonText:m.nav_ok_1,showCloseButton:!0}),this.comments.push({content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0});let s=JSON.parse(localStorage.getItem("myComments"));s||(s={}),!(this.p.id in s)||s[this.p.id]==null?s[this.p.id]=[{content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0}]:s[this.p.id].push({content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0}),localStorage.setItem("myComments",JSON.stringify(s)),this.textInput="",this.resizeInput()}).catch(s=>{uo(s),w.fire({title:m.nav_failed,text:m.nav_fail_reason+s.message,icon:"error",timer:5e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!1}),this.resizeInput()})}})}created(){this.textInputKey=`draft-${this.p.id}`,this.textInputCache=localStorage.getItem(this.textInputKey)??"",this.comments=this.getComments(),localStorage.getItem("myComments")||localStorage.setItem("myComments","{}")}get textInput(){return j(this.textInputCache.trim(),`
`)}set textInput(o){this.textInputCache=o,localStorage.setItem(this.textInputKey,o)}mounted(){this.resizeInput(),yo()}resizeInput(){const o=this.$refs.input;o&&(o.style.height="auto",o.style.height=`${o.scrollHeight+18}px`)}};Ie([b()],H.prototype,"p",2);H=Ie([y({components:{MarkdownTooltip:he,SubmitPrompt:fe}})],H);const di={id:"ProfileComments",class:"markdown-content"},pi=["innerHTML"],ui={key:0,class:"from anonymous"},mi={key:1,class:"from"},hi={key:2,class:"replies"},fi={class:"reply-title"},_i=["innerHTML"],gi={class:"from"},vi={key:1,id:"add-comment"},wi=["placeholder"],bi={key:0,id:"send-comment-btn"},$i={class:"char-count unselectable"};function yi(e,t,o,n,s,i){const a=wo,p=he,v=fe;return r(),d("div",di,[l("h1",null,h(e.p.id=="tdor"?"For Being Out And Proud——2024年跨性别现身日晚会 来信集合":e.t.nav_comments),1),e.p.comments.length>0?(r(),_(ne,{key:0,tag:"div",name:"comment-list",id:"comments"},{default:Y(()=>[(r(!0),d(B,null,P(e.comments,u=>(r(),d("div",{class:"comment",key:u.id},[l("span",{class:"content",innerHTML:u.content},null,8,pi),u.anonymous?(r(),d("span",ui,h(e.t.nav_anonymous),1)):(r(),d("span",mi,"——"+h(u.submitter),1)),u.replies.length?(r(),d("div",hi,[l("div",fi,h(e.t.nav_comment_in_reply_to)+" @"+h(u.submitter),1),(r(!0),d(B,null,P(u.replies,(S,M)=>(r(),d("div",{class:"reply",key:M},[l("span",{class:"content",innerHTML:S.content},null,8,_i),l("span",gi,"——"+h(S.submitter),1)]))),128))])):f("",!0)]))),128))]),_:1})):f("",!0),e.p.id!="tdor"?(r(),d("div",vi,[de(l("textarea",{id:"comment-textarea","onUpdate:modelValue":t[0]||(t[0]=u=>e.textInput=u),placeholder:e.t.nav_comment_placeholder,onInput:t[1]||(t[1]=(...u)=>e.resizeInput&&e.resizeInput(...u)),ref:"input"},null,40,wi),[[ce,e.textInput]]),e.textInput.trim().length>0?(r(),d("div",bi,[l("span",$i,h(e.trim(e.textInput.trim(),`
`).length)+" "+h(e.t.nav_comment_status),1),$(a,{class:"icon",onClick:e.btnSend},null,8,["onClick"])])):f("",!0),$(p,{"text-area-id":"comment-textarea"})])):f("",!0),e.showCaptchaPrompt?(r(),_(v,{key:2,onSubmit:e.submitRequest,onClose:t[2]||(t[2]=u=>e.showCaptchaPrompt=!1)},null,8,["onSubmit"])):f("",!0)])}const Ci=I(H,[["render",yi]]);var Ii=Object.defineProperty,Si=Object.getOwnPropertyDescriptor,W=(e,t,o,n)=>{for(var s=n>1?void 0:n?Si(t,o):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&Ii(t,o,s),s};let D=class extends C{constructor(){super(...arguments);c(this,"userid");c(this,"screenshotMode");c(this,"lang");c(this,"p",null);c(this,"compiledMdxCode","");c(this,"isBirthday",[])}get pid(){return this.userid=="tdov"?"tdor":this.userid}created(){const o=mo(this.pid);localStorage.setItem("showBtn","1"),this.lang&&(ho(this.lang),localStorage.setItem("showBtn","")),te(O(o,"info.json")).then(n=>n.text()).then(n=>{this.p=Co(n),this.pid=="tdor"&&(this.p.id="tdor")}),fetch(O(E,"birthday-list.json")).then(n=>n.json()).then(n=>{n=n;for(const s of n)if(s[0]==this.userid){const i=new Date(s[1]),a=new Date;if(a.getDate()==i.getDate()&&a.getMonth()==i.getMonth())for(let p=0;p<T.count;++p)this.isBirthday.push(R(0,2147483648))}}),this.pid!="tdor"&&(this.screenshotMode||te(O(o,"page.json")).then(n=>n.json()).then(n=>this.compiledMdxCode=me(n,this.pid)),this.checkViewLimit())}checkViewLimit(){if(this.screenshotMode)return;const o=se,n=new Date,[s,i]=[localStorage.getItem("view_limit_time"),localStorage.getItem("view_limit_entries")],[a,p]=[new Date(s),JSON.parse(i??"[]")],v=(n.getTime()-a.getTime())/6e4;if(!s||!i||v>o.cooldown){localStorage.setItem("view_limit_time",new Date().toUTCString()),localStorage.setItem("view_limit_entries",JSON.stringify([this.userid]));return}if(p.includes(this.userid)||(p.push(this.userid),localStorage.setItem("view_limit_entries",JSON.stringify(p)),p.length==o.errorLimit&&localStorage.setItem("view_limit_time",new Date().toUTCString())),p.length>=o.warningLimit&&(console.log(`View limit reached ${o.warningLimit}`),w.fire({title:m.view_limit.title,text:m.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0})),p.length>=o.errorLimit){console.log(`View limit reached ${o.errorLimit}`),w.fire({title:m.view_limit.title,text:m.view_limit.error,icon:"error",showConfirmButton:!1,allowOutsideClick(){return!1},customClass:"view-limit-alert",allowEscapeKey(){return!1},allowEnterKey(){return!1}});const u=new MutationObserver(S=>{S.forEach(M=>{M.removedNodes.length!=0&&M.removedNodes[0].classList&&M.removedNodes[0].classList.contains("swal2-container")&&(u.disconnect(),setTimeout(()=>{w.fire({title:m.view_limit.dom_removed_title,text:m.view_limit.dom_removed,icon:"info"}),localStorage.removeItem("view_limit_time")},100))})});return u.observe(document.body,{childList:!0,subtree:!0}),!0}}updated(){q(250,()=>{bo(this.userid)}),q(1e3,()=>{fetch(O(E,"trigger-list.json")).then(o=>o.json()).then(o=>{if(o.includes(j(window.location.pathname.replace("/profile",""),"/"))){localStorage.getItem("view_limit_entries")||localStorage.setItem("view_limit_entries","[]");const n=JSON.parse(localStorage.getItem("view_limit_entries"));for(n.length<20&&w.fire({title:m.view_limit.title,text:m.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0});n.length<se.errorLimit;)n.push(j(window.location.pathname.replace("/profile",""),"/"));localStorage.setItem("view_limit_entries",JSON.stringify(n))}})})}};W([b({required:!0})],D.prototype,"userid",2);W([b({default:!1})],D.prototype,"screenshotMode",2);W([b({default:""})],D.prototype,"lang",2);D=W([y({components:{ProfileCard:Ce,ProfileComments:Ci,MDX:ye,Balloon:_e}})],D);function Bi(e,t,o,n,s,i){const a=Ce,p=ye,v=_e,u=L("ProfileComments");return r(),d("div",null,[e.p?(r(),d("div",{key:0,class:F(["profile-page",{screenshot:e.screenshotMode}])},[e.pid!="tdor"?(r(),_(a,{key:0,class:"profile-card",userid:e.pid,p:e.p,"screenshot-mode":e.screenshotMode},null,8,["userid","p","screenshot-mode"])):f("",!0),e.pid!="tdor"?(r(),_(p,{key:1,class:"content",code:e.compiledMdxCode},null,8,["code"])):f("",!0),(r(!0),d(B,null,P(e.isBirthday,S=>(r(),_(v,{key:S}))),128)),e.p.comments&&!e.screenshotMode?(r(),_(u,{key:2,class:"comments",p:e.p},null,8,["p"])):f("",!0)],2)):f("",!0)])}const Vi=I(D,[["render",Bi],["__scopeId","data-v-fe0c1e81"]]);export{Vi as default};
