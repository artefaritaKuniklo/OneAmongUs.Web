var Ie=Object.defineProperty;var Se=(e,t,s)=>t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var d=(e,t,s)=>(Se(e,typeof t!="symbol"?t+"":t,s),s);import{r as R,c as W,d as Be,e as Y,b as Pe,i as Me,t as j,a as ke,f as Z}from"./helper-Cww9o2C2.js";import{E as Te,G as De,H as Ee,J as Le,K as Oe,L as xe,M as Re,F as C,N as je,R as Ve,O as ze,P as Ne,Q as He,U as Ae,W as Ue,T as Fe,X as We,Y as qe,Z as Ke,$ as Je,a0 as Ge,a1 as Xe,a2 as Qe,a3 as Ye,a4 as Ze,a5 as et,a6 as se,a7 as tt,n as _,l as f,c,a as l,a8 as st,a9 as ot,aa as nt,ab as it,ac as at,ad as rt,ae as lt,f as y,af as ct,ag as dt,ah as oe,ai as ut,aj as pt,ak as ht,al as mt,am as ft,an as _t,ao as gt,ap as wt,aq as vt,ar as bt,as as $t,at as yt,au as Ct,av as It,aw as St,ax as Bt,ay as Pt,az as Mt,aA as kt,aB as Tt,aC as Dt,aD as Et,aE as Lt,aF as Ot,aG as xt,aH as Rt,aI as jt,aJ as Vt,aK as zt,aL as Nt,aM as Ht,aN as At,aO as Ut,aP as Ft,aQ as Wt,z as A,aR as qt,aS as G,aT as Kt,aU as Jt,aV as Gt,aW as Xt,aX as Qt,aY as Yt,aZ as Zt,a_ as es,a$ as ts,b0 as ss,b1 as os,b2 as ns,b3 as is,o as i,D as ne,b4 as as,b5 as rs,B as ie,b6 as ls,b7 as cs,b8 as ds,b9 as us,ba as ps,bb as hs,y as I,bc as ms,e as O,bd as fs,be as _s,bf as gs,bg as ws,bh as vs,bi as bs,bj as $s,bk as ys,bl as Cs,bm as Is,bn as Ss,bo as Bs,bp as Ps,b as m,bq as Ms,br as ks,bs as Ts,bt as Ds,bu as Es,bv as Ls,bw as Os,bx as xs,by as Rs,bz as js,bA as Vs,bB as zs,bC as Ns,bD as Hs,bE as As,bF as Us,bG as Fs,bH as Ws,bI as qs,bJ as Ks,v as ae,m as Js,bK as Gs,bL as Xs,bM as Qs,bN as Ys,bO as Zs,bP as eo,bQ as to,w as re,bR as so,k as le,bS as oo,bT as no,A as io,bU as ao,C as S,V as B,bV as T,_ as P,d as b,bW as ro,I as ce,t as h,u as k,g as L,h as q,i as de,S as v,r as lo,s as ue,j as co,q as uo,bX as po,bY as ee}from"./index-CROtCQpL.js";import{i as ho,h as mo,b as fo,E as _o,_ as pe,a as go,c as wo}from"./paper-plane-Dz9Jh2OU.js";import{$ as vo,a as te,J as bo}from"./index-ab8010ff-DEQ_S2j1.js";import{_ as X}from"./ChannelBackupButton-B9XGwCHk.js";import{p as $o}from"./data-Csml3z32.js";import{_ as he}from"./SubmitPrompt-C64Bgvfg.js";/**
* vue v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yo=()=>{},Co=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Te,BaseTransitionPropsValidators:De,Comment:Ee,DeprecationTypes:Le,EffectScope:Oe,ErrorCodes:xe,ErrorTypeStrings:Re,Fragment:C,KeepAlive:je,ReactiveEffect:Ve,Static:ze,Suspense:Ne,Teleport:He,Text:Ae,TrackOpTypes:Ue,Transition:Fe,TransitionGroup:We,TriggerOpTypes:qe,VueElement:Ke,assertNumber:Je,callWithAsyncErrorHandling:Ge,callWithErrorHandling:Xe,camelize:Qe,capitalize:Ye,cloneVNode:Ze,compatUtils:et,compile:yo,computed:se,createApp:tt,createBlock:_,createCommentVNode:f,createElementBlock:c,createElementVNode:l,createHydrationRenderer:st,createPropsRestProxy:ot,createRenderer:nt,createSSRApp:it,createSlots:at,createStaticVNode:rt,createTextVNode:lt,createVNode:y,customRef:ct,defineAsyncComponent:dt,defineComponent:oe,defineCustomElement:ut,defineEmits:pt,defineExpose:ht,defineModel:mt,defineOptions:ft,defineProps:_t,defineSSRCustomElement:gt,defineSlots:wt,devtools:vt,effect:bt,effectScope:$t,getCurrentInstance:yt,getCurrentScope:Ct,getTransitionRawChildren:It,guardReactiveProps:St,h:Bt,handleError:Pt,hasInjectionContext:Mt,hydrate:kt,initCustomFormatter:Tt,initDirectivesForSSR:Dt,inject:Et,isMemoSame:Lt,isProxy:Ot,isReactive:xt,isReadonly:Rt,isRef:jt,isRuntimeOnly:Vt,isShallow:zt,isVNode:Nt,markRaw:Ht,mergeDefaults:At,mergeModels:Ut,mergeProps:Ft,nextTick:Wt,normalizeClass:A,normalizeProps:qt,normalizeStyle:G,onActivated:Kt,onBeforeMount:Jt,onBeforeUnmount:Gt,onBeforeUpdate:Xt,onDeactivated:Qt,onErrorCaptured:Yt,onMounted:Zt,onRenderTracked:es,onRenderTriggered:ts,onScopeDispose:ss,onServerPrefetch:os,onUnmounted:ns,onUpdated:is,openBlock:i,popScopeId:ne,provide:as,proxyRefs:rs,pushScopeId:ie,queuePostFlushCb:ls,reactive:cs,readonly:ds,ref:us,registerRuntimeCompiler:ps,render:hs,renderList:I,renderSlot:ms,resolveComponent:O,resolveDirective:fs,resolveDynamicComponent:_s,resolveFilter:gs,resolveTransitionHooks:ws,setBlockTracking:vs,setDevtoolsHook:bs,setTransitionHooks:$s,shallowReactive:ys,shallowReadonly:Cs,shallowRef:Is,ssrContextKey:Ss,ssrUtils:Bs,stop:Ps,toDisplayString:m,toHandlerKey:Ms,toHandlers:ks,toRaw:Ts,toRef:Ds,toRefs:Es,toValue:Ls,transformVNodeArgs:Os,triggerRef:xs,unref:Rs,useAttrs:js,useCssModule:Vs,useCssVars:zs,useModel:Ns,useSSRContext:Hs,useSlots:As,useTransitionState:Us,vModelCheckbox:Fs,vModelDynamic:Ws,vModelRadio:qs,vModelSelect:Ks,vModelText:ae,vShow:Js,version:Gs,warn:Xs,watch:Qs,watchEffect:Ys,watchPostEffect:Zs,watchSyncEffect:eo,withAsyncContext:to,withCtx:re,withDefaults:so,withDirectives:le,withKeys:oo,withMemo:no,withModifiers:io,withScopeId:ao},Symbol.toStringTag,{value:"Module"}));var Io=(e,t,s,n)=>{for(var o=t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=a(o)||o);return o};let K=class extends B{constructor(){super(...arguments);d(this,"db","ballon-qwq");d(this,"sourceImg","https://one-among.us/favicon-large.png");d(this,"styles","")}created(){this.db="balloon-"+R(0,2147483648).toString(),this.sourceImg=ho()&&Math.random()<.65?"/img/balloons/balloon-p.png":`/img/balloons/balloon-${R(0,6)}.png`}mounted(){let t=Math.random()*(window.innerWidth-100);window.innerWidth>T.width&&(t=Math.random()*(T.width-100)+(window.innerWidth-T.width)/2),document.getElementById(this.db).style.left=t.toString()+"px",document.getElementById(this.db).style.bottom=R(T.min,T.max).toString()+"px",W(1e4,()=>{var s;(s=document.getElementById(this.db))==null||s.remove()})}mouseover(){document.getElementById(this.db).remove()}};K=Io([S({components:{}})],K);const So=["id"],Bo=["src"];function Po(e,t,s,n,o,r){return i(),c("div",{class:"balloon fly-to-top",id:e.db,onMouseover:t[0]||(t[0]=a=>e.mouseover())},[l("img",{src:e.sourceImg,class:"balloonImg",style:G(e.styles)},null,12,Bo)],40,So)}const me=P(K,[["render",Po]]);var Mo=Object.defineProperty,ko=Object.getOwnPropertyDescriptor,fe=(e,t,s,n)=>{for(var o=n>1?void 0:n?ko(t,s):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=(n?a(t,s,o):a(o))||o);return n&&o&&Mo(t,s,o),o};let V=class extends B{constructor(){super(...arguments);d(this,"viewerIndex",null);d(this,"photos");d(this,"photoList");d(this,"rotations",[])}created(){this.photoList=(typeof this.photos=="string"?JSON.parse(this.photos):this.photos).map(s=>({url:s})),this.rotations=this.photoList.map(()=>Be(-15,15))}};fe([b()],V.prototype,"photos",2);V=fe([S({components:{ImageViewer:vo}})],V);const To={class:"ps-wrapper"},Do={id:"PhotoScroll"},Eo=["src"];function Lo(e,t,s,n,o,r){const a=O("ImageViewer");return i(),c("div",To,[l("div",Do,[(i(!0),c(C,null,I(e.photoList,(u,w)=>(i(),c("img",{key:w,src:u.url,alt:"",class:"stacked photo-frame-5",draggable:"false",style:G({transform:`translate(-50%, -50%) translateX(80px) rotate(${e.rotations[w]}deg)`,"z-index":e.photoList.length-w+1,"min-width":"150px","object-fit":"cover"}),onClick:t[0]||(t[0]=()=>e.viewerIndex=0)},null,12,Eo))),128)),y(a,{index:e.viewerIndex,"onUpdate:index":t[1]||(t[1]=u=>e.viewerIndex=u),imgs:e.photoList},null,8,["index","imgs"])])])}const Oo=P(V,[["render",Lo]]);var xo=Object.defineProperty,Ro=Object.getOwnPropertyDescriptor,_e=(e,t,s,n)=>{for(var o=n>1?void 0:n?Ro(t,s):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=(n?a(t,s,o):a(o))||o);return n&&o&&xo(t,s,o),o};let z=class extends B{constructor(){super(...arguments);d(this,"platforms")}};_e([b({required:!0})],z.prototype,"platforms",2);z=_e([S({components:{ChannelBackupButton:X}})],z);const jo={id:"BackupButtons"};function Vo(e,t,s,n,o,r){const a=X;return i(),c("div",jo,[(i(!0),c(C,null,I(e.platforms,u=>(i(),_(a,{key:u,platform:u},null,8,["platform"]))),128))])}const zo=P(z,[["render",Vo],["__scopeId","data-v-479ca4d3"]]),No={viewBox:"0 0 640 512",width:"1.2em",height:"1.2em"},Ho=l("path",{fill:"currentColor",d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0z"},null,-1),Ao=[Ho];function Uo(e,t){return i(),c("svg",No,[...Ao])}const Fo={name:"fa6-solid-link",render:Uo};var Wo=Object.defineProperty,qo=Object.getOwnPropertyDescriptor,ge=(e,t,s,n)=>{for(var o=n>1?void 0:n?qo(t,s):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=(n?a(t,s,o):a(o))||o);return n&&o&&Wo(t,s,o),o};let N=class extends B{constructor(){super(...arguments);d(this,"icon")}getIcon(t){if(t=t.toLowerCase(),ro.includes(t))return`fab fa-${t}`;if(t.startsWith("custom-icon:"))return t.replace("custom-icon:","")}getIconifyIcon(t){if(t.startsWith("iconify:"))return t.replace("iconify:","")}};ge([b()],N.prototype,"icon",2);N=ge([S({components:{Icon:ce}})],N);function Ko(e,t,s,n,o,r){const a=O("Icon"),u=Fo;return e.getIcon(e.icon)?(i(),c("i",{key:0,class:A(e.getIcon(e.icon))},null,2)):e.getIconifyIcon(e.icon)?(i(),_(a,{key:1,icon:e.getIconifyIcon(e.icon)},null,8,["icon"])):(i(),_(u,{key:2}))}const we=P(N,[["render",Ko]]),ve=oe({name:"MDX",props:{code:{type:String,required:!0},margins:{type:Boolean,required:!1}},setup(e){const t=se(()=>{if(!e.code)return null;const s=new Function("exports","Vue",e.code),n={};return s(n,Co),n.default});return()=>{var s;return y("div",{class:"markdown-content",style:e.margins?{margin:"10px min(4vw, 40px)"}:{}},[(s=t.value)==null?void 0:s.call(t,{components:{PhotoScroll:Oo,ChannelBackupButton:X,BackupButtons:zo,DynamicIcon:we}})])}}});var Jo=(e,t,s,n)=>{for(var o=t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=a(o)||o);return o};let J=class extends B{};J=Jo([S({components:{}})],J);const Go={xmlns:"http://www.w3.org/2000/svg",class:"switching",viewBox:"0 0 24 24"},Xo=l("g",{fill:"none",stroke:"rgba(166, 134, 89, 0.84)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[l("path",{d:"m18 2l3 3l-3 3M6 22l-3-3l3-3"}),l("path",{d:"M21 5H10a7 7 0 0 0-7 7m0 7h11a7 7 0 0 0 7-7"})],-1),Qo=[Xo];function Yo(e,t,s,n,o,r){return i(),c("svg",Go,Qo)}const Zo=P(J,[["render",Yo]]),en={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},tn=l("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"},null,-1),sn=l("path",{fill:"currentColor",d:"m469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),on=[tn,sn];function nn(e,t){return i(),c("svg",en,[...on])}const an={name:"ep-edit",render:nn},rn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ln=l("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"},null,-1),cn=[ln];function dn(e,t){return i(),c("svg",rn,[...cn])}const un={name:"ep-loading",render:dn},pn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},hn=l("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744m-54.464-36.032a322 322 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),mn=[hn];function fn(e,t){return i(),c("svg",pn,[...mn])}const _n={name:"ep-lollipop",render:fn},gn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},wn=l("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),vn=[wn];function bn(e,t){return i(),c("svg",gn,[...vn])}const $n={name:"ep-check",render:bn};var yn=Object.defineProperty,Cn=Object.getOwnPropertyDescriptor,U=(e,t,s,n)=>{for(var o=n>1?void 0:n?Cn(t,s):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=(n?a(t,s,o):a(o))||o);return n&&o&&yn(t,s,o),o};let D=class extends B{constructor(){super(...arguments);d(this,"userid");d(this,"p");d(this,"screenshotMode");d(this,"flowers",0);d(this,"flowersGiven",!1);d(this,"isBirthday",!1);d(this,"canSwitch",!1);d(this,"target",".");d(this,"sourceTarget",".");d(this,"inWarning",!1);d(this,"loading",new Set);d(this,"t",h)}created(){this.flowersGiven=localStorage.getItem(`last_flower_given@${this.userid}`)===Y(),fetch(k(L,"birthday-list.json")).then(t=>t.json()).then(t=>{t=t;for(const s of t)if(s[0]==this.userid){const n=new Date(s[1]),o=new Date;o.getDate()==n.getDate()&&o.getMonth()==n.getMonth()&&(this.isBirthday=!0)}}),fetch(q+`/flowers/get?id=${this.userid}`).then(t=>t.text()).then(t=>{de(`Flowers: ${t}`),this.flowers=parseInt(t)}),fetch(k(L,"switch-pair.json")).then(t=>t.json()).then(t=>{const s=t;for(const n of s)if(n[0]==this.userid){this.canSwitch=!0,this.target=`/profile/${n[1]}`,this.sourceTarget=this.target;const o=Pe(k(L,"trigger-list.json"));JSON.parse(o).includes(n[1])&&(this.target=null,this.inWarning=!0)}})}flower(){this.flowersGiven||this.loading.has("flower")||(this.loading.add("flower"),fetch(q+`/flowers/give?id=${this.userid}`).then(()=>{this.flowers+=1,this.flowersGiven=!0,localStorage.setItem(`last_flower_given@${this.userid}`,Y())}).finally(()=>this.loading.delete("flower")),mo(this.p.name),this.isBirthday&&fo(this.p.name))}get flowerText(){return Me(this.flowers)}switchWarn(){this.inWarning&&v.fire({title:this.t.switch_warning.title,text:this.t.switch_warning.text,icon:"warning",showCancelButton:!1,showCloseButton:!1,showConfirmButton:!0,allowOutsideClick(){return!1},timer:3e5,timerProgressBar:!0,iconColor:"#d20f39",allowEscapeKey(){return!1},allowEnterKey(){return!1},customClass:"view-limit-alert"}).then(t=>{t.isConfirmed&&(this.target=this.sourceTarget,this.inWarning=!1)})}edit(){v.fire({title:h.nav_what_to_edit,icon:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:h.nav_profile_card,cancelButtonText:h.nav_introduction}).then(t=>{t.isConfirmed?lo.push(`/edit-info/${this.p.id}`):t.dismiss===v.DismissReason.cancel&&open(`https://github.com/one-among-us/data/tree/main/people/${this.userid}/page.md`)})}get profileUrl(){return ue(this.p.profileUrl,this.userid)}};U([b({required:!0})],D.prototype,"userid",2);U([b({required:!0})],D.prototype,"p",2);U([b({default:!1})],D.prototype,"screenshotMode",2);D=U([S({components:{Icon:ce}})],D);const In="/favicon-large.png",x=e=>(ie("data-v-749d9b24"),e=e(),ne(),e),Sn={key:0,id:"info",class:"font-custom fbox-h"},Bn={id:"left",class:"fbox-v"},Pn=["src"],Mn=x(()=>l("div",{class:"spacer"},null,-1)),kn={key:0,id:"buttons"},Tn={class:"button-container"},Dn={class:"text-under-button"},En={class:"button-container edit"},Ln=x(()=>l("div",{class:"text-under-button"},"Edit",-1)),On=x(()=>l("div",{class:"spacer-bottom f-grow1"},null,-1)),xn={id:"right"},Rn={id:"name-box"},jn={id:"name-text"},Vn={id:"id"},zn=x(()=>l("div",{id:"hr"},null,-1)),Nn={id:"fields",class:"f-grow1"},Hn={class:"key"},An={class:"value"},Un={key:0,id:"websites"},Fn={id:"websites-text"},Wn={id:"websites-container"},qn=["href"],Kn=["href"],Jn=x(()=>l("img",{class:"watermark",draggable:"false",src:In,alt:""},null,-1));function Gn(e,t,s,n,o,r){var Q;const a=$n,u=O("Icon"),w=_n,p=un,M=_o,$=an,ye=we,Ce=Zo;return e.p?(i(),c("div",Sn,[l("div",Bn,[l("img",{src:e.profileUrl,draggable:"false",alt:"profile"},null,8,Pn),Mn,e.screenshotMode?f("",!0):(i(),c("div",kn,[l("div",Tn,[y(M,{content:"献花","show-after":1e3,disabled:e.flowersGiven||e.loading.has("flower")},{default:re(()=>[l("div",{class:A(["button anim fbox-vcenter",e.flowersGiven||e.loading.has("flower")?"disabled":""]),onClick:t[0]||(t[0]=(...g)=>e.flower&&e.flower(...g))},[e.flowersGiven?(i(),_(a,{key:0})):e.isBirthday&&!e.loading.has("flower")?(i(),_(u,{key:1,class:"iconR",icon:"line-md:cake"})):e.loading.has("flower")?(i(),_(p,{key:3})):(i(),_(w,{key:2}))],2)]),_:1},8,["disabled"]),l("div",Dn,m(e.flowerText),1)]),l("div",En,[l("div",{class:"button anim fbox-vcenter",onClick:t[1]||(t[1]=(...g)=>e.edit&&e.edit(...g))},[y($)]),Ln])])),On]),l("div",xn,[l("div",Rn,[l("span",jn,m(e.p.name),1),l("span",Vn,"@"+m(e.p.id),1)]),zn,l("ul",Nn,[(i(!0),c(C,null,I(e.p.info,g=>(i(),c("li",{key:g[0]},[l("span",Hn,m(g[0])+"：",1),l("span",An,m(g[1]),1)]))),128))]),(Q=e.p.websites)!=null&&Q.length?(i(),c("div",Un,[l("span",Fn,m(e.t.nav_website),1),l("span",Wn,[(i(!0),c(C,null,I(e.p.websites,g=>(i(),c("a",{key:g[0],href:g[1]},[y(ye,{icon:g[0]},null,8,["icon"])],8,qn))),128))])])):f("",!0)]),e.canSwitch?(i(),c("a",{key:0,class:"switchButton",href:e.target,onClick:t[2]||(t[2]=g=>e.switchWarn()),draggable:"false"},[y(Ce)],8,Kn)):f("",!0),Jn])):f("",!0)}const be=P(D,[["render",Gn],["__scopeId","data-v-749d9b24"]]);var Xn=Object.defineProperty,Qn=Object.getOwnPropertyDescriptor,$e=(e,t,s,n)=>{for(var o=n>1?void 0:n?Qn(t,s):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=(n?a(t,s,o):a(o))||o);return n&&o&&Xn(t,s,o),o};let H=class extends B{constructor(){super(...arguments);d(this,"p");d(this,"textInputCache","");d(this,"textInputKey");d(this,"showCaptchaPrompt",!1);d(this,"t",h);d(this,"trim",j)}get comments(){return this.p.comments.map(s=>({...s,anonymous:s.submitter==="Anonymous",content:te(s.content.replaceAll(`
`,"<br />")),replies:s.replies?s.replies.map(n=>({...n,content:te(n.content.replaceAll(`
`,"<br />"))})):[]}))}btnSend(){this.showCaptchaPrompt=!0}submitRequest(s){this.showCaptchaPrompt=!1;const n={id:this.p.id,content:this.textInput,...s};de(n),v.fire({title:h.nav_comment_submit,showConfirmButton:!1,icon:null,didOpen:()=>{v.showLoading(null),ke(q+"/comment/add",{method:"POST",params:n}).then(()=>{this.textInput="",v.fire({title:h.nav_success,text:h.nav_success_text_reply,icon:"success",timer:5e3,timerProgressBar:!0,showConfirmButton:!0,confirmButtonText:h.nav_ok_1,showCloseButton:!0}),this.resizeInput()}).catch(o=>{co(o),v.fire({title:h.nav_failed,text:h.nav_fail_reason+o.message,icon:"error",timer:5e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!1}),this.resizeInput()})}})}created(){this.textInputKey=`draft-${this.p.id}`,this.textInputCache=localStorage.getItem(this.textInputKey)??""}get textInput(){return j(this.textInputCache.trim(),`
`)}set textInput(s){this.textInputCache=s,localStorage.setItem(this.textInputKey,s)}mounted(){this.resizeInput(),bo()}resizeInput(){const s=this.$refs.input;s&&(s.style.height="auto",s.style.height=`${s.scrollHeight+18}px`)}};$e([b()],H.prototype,"p",2);H=$e([S({components:{MarkdownTooltip:pe,SubmitPrompt:he}})],H);const Yn={id:"ProfileComments",class:"markdown-content"},Zn={key:0,id:"comments"},ei=["innerHTML"],ti={key:0,class:"from anonymous"},si={key:1,class:"from"},oi={key:2,class:"replies"},ni={class:"reply-title"},ii=["innerHTML"],ai={class:"from"},ri={key:1,id:"add-comment"},li=["placeholder"],ci={key:0,id:"send-comment-btn"},di={class:"char-count unselectable"};function ui(e,t,s,n,o,r){const a=go,u=pe,w=he;return i(),c("div",Yn,[l("h1",null,m(e.p.id=="tdor"?"For Being Out And Proud——2024年跨性别现身日晚会 来信集合":e.t.nav_comments),1),e.p.comments.length>0?(i(),c("div",Zn,[(i(!0),c(C,null,I(e.comments,p=>(i(),c("div",{class:"comment",key:p.id},[l("span",{class:"content",innerHTML:p.content},null,8,ei),p.anonymous?(i(),c("span",ti,m(e.t.nav_anonymous),1)):(i(),c("span",si,"——"+m(p.submitter),1)),p.replies.length?(i(),c("div",oi,[l("div",ni,m(e.t.nav_comment_in_reply_to)+" @"+m(p.submitter),1),(i(!0),c(C,null,I(p.replies,(M,$)=>(i(),c("div",{class:"reply",key:$},[l("span",{class:"content",innerHTML:M.content},null,8,ii),l("span",ai,"——"+m(M.submitter),1)]))),128))])):f("",!0)]))),128))])):f("",!0),e.p.id!="tdor"?(i(),c("div",ri,[le(l("textarea",{id:"comment-textarea","onUpdate:modelValue":t[0]||(t[0]=p=>e.textInput=p),placeholder:e.t.nav_comment_placeholder,onInput:t[1]||(t[1]=(...p)=>e.resizeInput&&e.resizeInput(...p)),ref:"input"},null,40,li),[[ae,e.textInput]]),e.textInput.trim().length>0?(i(),c("div",ci,[l("span",di,m(e.trim(e.textInput.trim(),`
`).length)+" "+m(e.t.nav_comment_status),1),y(a,{class:"icon",onClick:e.btnSend},null,8,["onClick"])])):f("",!0),y(u,{"text-area-id":"comment-textarea"})])):f("",!0),e.showCaptchaPrompt?(i(),_(w,{key:2,onSubmit:e.submitRequest,onClose:t[2]||(t[2]=p=>e.showCaptchaPrompt=!1)},null,8,["onSubmit"])):f("",!0)])}const pi=P(H,[["render",ui]]);var hi=Object.defineProperty,mi=Object.getOwnPropertyDescriptor,F=(e,t,s,n)=>{for(var o=n>1?void 0:n?mi(t,s):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(o=(n?a(t,s,o):a(o))||o);return n&&o&&hi(t,s,o),o};let E=class extends B{constructor(){super(...arguments);d(this,"userid");d(this,"screenshotMode");d(this,"lang");d(this,"p",null);d(this,"compiledMdxCode","");d(this,"isBirthday",[])}get pid(){return this.userid=="tdov"?"tdor":this.userid}created(){const s=uo(this.pid);localStorage.setItem("showBtn","1"),this.lang&&(po(this.lang),localStorage.setItem("showBtn","")),Z(k(s,"info.json")).then(n=>n.text()).then(n=>{this.p=$o(n),this.pid=="tdor"&&(this.p.id="tdor")}),fetch(k(L,"birthday-list.json")).then(n=>n.json()).then(n=>{n=n;for(const o of n)if(o[0]==this.userid){const r=new Date(o[1]),a=new Date;if(a.getDate()==r.getDate()&&a.getMonth()==r.getMonth())for(let u=0;u<T.count;++u)this.isBirthday.push(R(0,2147483648))}}),this.pid!="tdor"&&(this.screenshotMode||Z(k(s,"page.json")).then(n=>n.json()).then(n=>this.compiledMdxCode=ue(n,this.pid)),this.checkViewLimit())}checkViewLimit(){if(this.screenshotMode)return;const s=ee,n=new Date,[o,r]=[localStorage.getItem("view_limit_time"),localStorage.getItem("view_limit_entries")],[a,u]=[new Date(o),JSON.parse(r??"[]")],w=(n.getTime()-a.getTime())/6e4;if(!o||!r||w>s.cooldown){localStorage.setItem("view_limit_time",new Date().toUTCString()),localStorage.setItem("view_limit_entries",JSON.stringify([this.userid]));return}if(u.includes(this.userid)||(u.push(this.userid),localStorage.setItem("view_limit_entries",JSON.stringify(u)),u.length==s.errorLimit&&localStorage.setItem("view_limit_time",new Date().toUTCString())),u.length>=s.warningLimit&&(console.log(`View limit reached ${s.warningLimit}`),v.fire({title:h.view_limit.title,text:h.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0})),u.length>=s.errorLimit){console.log(`View limit reached ${s.errorLimit}`),v.fire({title:h.view_limit.title,text:h.view_limit.error,icon:"error",showConfirmButton:!1,allowOutsideClick(){return!1},customClass:"view-limit-alert",allowEscapeKey(){return!1},allowEnterKey(){return!1}});const p=new MutationObserver(M=>{M.forEach($=>{$.removedNodes.length!=0&&$.removedNodes[0].classList&&$.removedNodes[0].classList.contains("swal2-container")&&(p.disconnect(),setTimeout(()=>{v.fire({title:h.view_limit.dom_removed_title,text:h.view_limit.dom_removed,icon:"info"}),localStorage.removeItem("view_limit_time")},100))})});return p.observe(document.body,{childList:!0,subtree:!0}),!0}}updated(){W(250,()=>{wo(this.userid)}),W(1e3,()=>{fetch(k(L,"trigger-list.json")).then(s=>s.json()).then(s=>{if(s.includes(j(window.location.pathname.replace("/profile",""),"/"))){localStorage.getItem("view_limit_entries")||localStorage.setItem("view_limit_entries","[]");const n=JSON.parse(localStorage.getItem("view_limit_entries"));for(n.length<20&&v.fire({title:h.view_limit.title,text:h.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0});n.length<ee.errorLimit;)n.push(j(window.location.pathname.replace("/profile",""),"/"));localStorage.setItem("view_limit_entries",JSON.stringify(n))}})})}};F([b({required:!0})],E.prototype,"userid",2);F([b({default:!1})],E.prototype,"screenshotMode",2);F([b({default:""})],E.prototype,"lang",2);E=F([S({components:{ProfileCard:be,ProfileComments:pi,MDX:ve,Balloon:me}})],E);function fi(e,t,s,n,o,r){const a=be,u=ve,w=me,p=O("ProfileComments");return i(),c("div",null,[e.p?(i(),c("div",{key:0,class:A(["profile-page",{screenshot:e.screenshotMode}])},[e.pid!="tdor"?(i(),_(a,{key:0,class:"profile-card",userid:e.pid,p:e.p,"screenshot-mode":e.screenshotMode},null,8,["userid","p","screenshot-mode"])):f("",!0),e.pid!="tdor"?(i(),_(u,{key:1,class:"content",code:e.compiledMdxCode},null,8,["code"])):f("",!0),(i(!0),c(C,null,I(e.isBirthday,(M,$)=>(i(),_(w,{key:$}))),128)),e.p.comments&&!e.screenshotMode?(i(),_(p,{key:2,class:"comments",p:e.p},null,8,["p"])):f("",!0)],2)):f("",!0)])}const Mi=P(E,[["render",fi],["__scopeId","data-v-efd031ec"]]);export{Mi as default};
