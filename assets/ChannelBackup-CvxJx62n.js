var B=Object.defineProperty;var g=(t,o,e)=>o in t?B(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var r=(t,o,e)=>(g(t,typeof o!="symbol"?o+"":o,e),e);import{_ as h}from"./ChannelBackupButton-CGWBxLxv.js";import{V as k,bY as C,d as f,C as b,_ as v,c as i,n as w,w as D,l as d,e as y,o as l,f as $}from"./index-So0kJAPU.js";import{e as j}from"./index-ab8010ff-DF4S7RiR.js";var U=Object.defineProperty,F=Object.getOwnPropertyDescriptor,c=(t,o,e,s)=>{for(var a=s>1?void 0:s?F(o,e):o,p=t.length-1,n;p>=0;p--)(n=t[p])&&(a=(s?n(o,e,a):n(a))||a);return s&&a&&U(o,e,a),a};const _={tg:"telegram",tw:"twitter"};let u=class extends k{constructor(){super(...arguments);r(this,"userid");r(this,"backup");r(this,"postsUrl",null);r(this,"postsData",null);r(this,"error",null)}get computedBackup(){return this.backup in _?_[this.backup]:this.backup}async created(){try{let e=C(this.userid,this.computedBackup),s=await(await fetch(e)).json();s.redirect&&(e=s.redirect,s=await(await fetch(e)).json()),this.postsData=s,this.postsUrl=e}catch(e){console.log(e),this.error=e}}};c([f({required:!0})],u.prototype,"userid",2);c([f({default:"telegram"})],u.prototype,"backup",2);u=c([b({components:{TgBlog:j,ChannelBackupButton:h}})],u);const O={key:1};function P(t,o,e,s,a,p){const n=h,m=y("TgBlog");return l(),i("div",null,[t.postsUrl?(l(),w(m,{key:0,id:"profile-page","posts-url":t.postsUrl,"posts-data":t.postsData},{default:D(()=>[$(n,{class:"heading",text:"返回",icon:"icon-back",url:`/profile/${t.userid}`},null,8,["url"])]),_:1},8,["posts-url","posts-data"])):d("",!0),t.error?(l(),i("div",O," 加载页面错误... 请重试 ")):d("",!0)])}const x=v(u,[["render",P],["__scopeId","data-v-d151104c"]]);export{x as default};
