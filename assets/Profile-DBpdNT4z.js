var Re=Object.defineProperty;var Ve=(e,t,o)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var d=(e,t,o)=>(Ve(e,typeof t!="symbol"?t+"":t,o),o);import{ao as Ae,ap as Ne,aq as He,ar as ze,as as qe,at as Fe,au as Ue,F as P,av as Je,aw as We,ax as Ke,ay as Ge,U as Ye,az as Xe,aA as Qe,T as Ze,al as ce,aB as et,aC as tt,aD as st,aE as ot,aF as nt,aG as rt,aH as it,aI as at,aJ as lt,H as de,aK as ct,q as _,n as f,c,a as l,aL as dt,aM as ut,aN as pt,aO as ht,J as mt,aP as ft,a1 as _t,f as B,aQ as gt,aR as vt,y as ue,aS as wt,aT as bt,aU as $t,aV as yt,aW as Ct,aX as It,aY as St,aZ as Pt,a_ as Mt,a$ as Bt,b0 as Dt,b1 as Tt,a4 as Ot,b2 as Lt,N as kt,Z as xt,b3 as Et,b4 as jt,b5 as Rt,b6 as Vt,b7 as At,b8 as Nt,b9 as Ht,ba as zt,bb as qt,bc as Ft,Q as Ut,bd as Jt,be as Wt,bf as Kt,bg as Gt,bh as Yt,bi as Xt,P as Qt,D as Zt,W as J,M as es,X as W,bj as ts,bk as ss,bl as os,a2 as ns,bm as rs,bn as is,B as as,bo as ls,bp as cs,a5 as ds,bq as us,E as ps,br as hs,o as a,an as pe,bs as ms,bt as fs,am as he,bu as _s,s as gs,bv as vs,x as ws,bw as bs,$ as $s,K as M,L as te,e as E,bx as ys,R as Cs,by as Is,bz as Ss,bA as Ps,bB as Ms,bC as Bs,bD as Ds,bE as Ts,bF as Os,bG as Ls,bH as ks,bI as xs,b as m,bJ as Es,bK as js,bL as Rs,A as Vs,bM as As,bN as Ns,bO as Hs,bP as zs,O as qs,a0 as Fs,bQ as Us,bR as Js,bS as Ws,bT as Ks,z as Gs,bU as Ys,bV as Xs,bW as Qs,bX as Zs,bY as eo,v as me,p as to,bZ as so,b_ as oo,G as no,b$ as ro,c0 as io,c1 as ao,c2 as lo,w as se,c3 as co,m as fe,a3 as uo,c4 as po,Y as ho,c5 as mo,C as b,V as $,ad as R,a8 as fo,c6 as O,c7 as Y,_ as y,d as g,c8 as _o,I as _e,c9 as go,ca as vo,t as h,cb as re,u as T,h as x,k as X,i as ge,ae as wo,cc as bo,cd as $o,ce as yo,S,r as Co,ai as ve,cf as V,j as Io,l as So,af as Po,cg as Mo,g as ie,ch as D,ci as Bo}from"./index-C_XxH1hW.js";import{_ as oe}from"./style-BUaextdq.js";import{$ as Do,a as ae,J as To}from"./index-ab8010ff-9IrnsQWB.js";import{E as Oo,_ as we,a as Lo}from"./paper-plane-abfuK5Zh.js";import{p as ko}from"./data-Csml3z32.js";import{_ as be}from"./SubmitPrompt-C56VGM9S.js";/**
* vue v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const xo=()=>{},Eo=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ae,BaseTransitionPropsValidators:Ne,Comment:He,DeprecationTypes:ze,EffectScope:qe,ErrorCodes:Fe,ErrorTypeStrings:Ue,Fragment:P,KeepAlive:Je,ReactiveEffect:We,Static:Ke,Suspense:Ge,Teleport:Ye,Text:Xe,TrackOpTypes:Qe,Transition:Ze,TransitionGroup:ce,TriggerOpTypes:et,VueElement:tt,assertNumber:st,callWithAsyncErrorHandling:ot,callWithErrorHandling:nt,camelize:rt,capitalize:it,cloneVNode:at,compatUtils:lt,compile:xo,computed:de,createApp:ct,createBlock:_,createCommentVNode:f,createElementBlock:c,createElementVNode:l,createHydrationRenderer:dt,createPropsRestProxy:ut,createRenderer:pt,createSSRApp:ht,createSlots:mt,createStaticVNode:ft,createTextVNode:_t,createVNode:B,customRef:gt,defineAsyncComponent:vt,defineComponent:ue,defineCustomElement:wt,defineEmits:bt,defineExpose:$t,defineModel:yt,defineOptions:Ct,defineProps:It,defineSSRCustomElement:St,defineSlots:Pt,devtools:Mt,effect:Bt,effectScope:Dt,getCurrentInstance:Tt,getCurrentScope:Ot,getTransitionRawChildren:Lt,guardReactiveProps:kt,h:xt,handleError:Et,hasInjectionContext:jt,hydrate:Rt,initCustomFormatter:Vt,initDirectivesForSSR:At,inject:Nt,isMemoSame:Ht,isProxy:zt,isReactive:qt,isReadonly:Ft,isRef:Ut,isRuntimeOnly:Jt,isShallow:Wt,isVNode:Kt,markRaw:Gt,mergeDefaults:Yt,mergeModels:Xt,mergeProps:Qt,nextTick:Zt,normalizeClass:J,normalizeProps:es,normalizeStyle:W,onActivated:ts,onBeforeMount:ss,onBeforeUnmount:os,onBeforeUpdate:ns,onDeactivated:rs,onErrorCaptured:is,onMounted:as,onRenderTracked:ls,onRenderTriggered:cs,onScopeDispose:ds,onServerPrefetch:us,onUnmounted:ps,onUpdated:hs,openBlock:a,popScopeId:pe,provide:ms,proxyRefs:fs,pushScopeId:he,queuePostFlushCb:_s,reactive:gs,readonly:vs,ref:ws,registerRuntimeCompiler:bs,render:$s,renderList:M,renderSlot:te,resolveComponent:E,resolveDirective:ys,resolveDynamicComponent:Cs,resolveFilter:Is,resolveTransitionHooks:Ss,setBlockTracking:Ps,setDevtoolsHook:Ms,setTransitionHooks:Bs,shallowReactive:Ds,shallowReadonly:Ts,shallowRef:Os,ssrContextKey:Ls,ssrUtils:ks,stop:xs,toDisplayString:m,toHandlerKey:Es,toHandlers:js,toRaw:Rs,toRef:Vs,toRefs:As,toValue:Ns,transformVNodeArgs:Hs,triggerRef:zs,unref:qs,useAttrs:Fs,useCssModule:Us,useCssVars:Js,useModel:Ws,useSSRContext:Ks,useSlots:Gs,useTransitionState:Ys,vModelCheckbox:Xs,vModelDynamic:Qs,vModelRadio:Zs,vModelSelect:eo,vModelText:me,vShow:to,version:so,warn:oo,watch:no,watchEffect:ro,watchPostEffect:io,watchSyncEffect:ao,withAsyncContext:lo,withCtx:se,withDefaults:co,withDirectives:fe,withKeys:uo,withMemo:po,withModifiers:ho,withScopeId:mo},Symbol.toStringTag,{value:"Module"}));var jo=(e,t,o,n)=>{for(var s=t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=i(s)||s);return s};let Q=class extends ${constructor(){super(...arguments);d(this,"db","balloon-qwq");d(this,"sourceImg","https://one-among.us/favicon-large.png");d(this,"styles","")}created(){this.db="balloon-"+R(0,2147483648).toString(),this.sourceImg=fo()&&Math.random()<.65?"/img/balloons/balloon-p.png":`/img/balloons/balloon-${R(0,6)}.png`}mounted(){let t=Math.random()*(window.innerWidth-100);window.innerWidth>O.width&&(t=Math.random()*(O.width-100)+(window.innerWidth-O.width)/2),document.getElementById(this.db).style.left=t.toString()+"px",document.getElementById(this.db).style.bottom=R(O.min,O.max).toString()+"px",Y(1e4,()=>{var o;(o=document.getElementById(this.db))==null||o.remove()})}mouseover(){document.getElementById(this.db).remove()}};Q=jo([b({components:{}})],Q);const Ro=["id"],Vo=["src"];function Ao(e,t,o,n,s,r){return a(),c("div",{class:"balloon fly-to-top",id:e.db,onMouseover:t[0]||(t[0]=i=>e.mouseover())},[l("img",{src:e.sourceImg,class:"balloonImg",style:W(e.styles)},null,12,Vo)],40,Ro)}const $e=y(Q,[["render",Ao]]);var No=Object.defineProperty,Ho=Object.getOwnPropertyDescriptor,ye=(e,t,o,n)=>{for(var s=n>1?void 0:n?Ho(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&No(t,o,s),s};let A=class extends ${constructor(){super(...arguments);d(this,"data")}};ye([g({required:!0})],A.prototype,"data",2);A=ye([b({})],A);const zo={class:"banner"},qo={class:"img-container"},Fo=["src"],Uo={class:"content"},Jo=["textContent"],Wo=["textContent"];function Ko(e,t,o,n,s,r){return a(),c("div",zo,[l("div",qo,[l("img",{src:e.data.icon},null,8,Fo)]),l("div",Uo,[l("h3",{textContent:m(e.data.title)},null,8,Jo),l("p",{textContent:m(e.data.text)},null,8,Wo)])])}const Go=y(A,[["render",Ko]]);var Yo=Object.defineProperty,Xo=Object.getOwnPropertyDescriptor,Ce=(e,t,o,n)=>{for(var s=n>1?void 0:n?Xo(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&Yo(t,o,s),s};let N=class extends ${constructor(){super(...arguments);d(this,"platforms")}};Ce([g({required:!0})],N.prototype,"platforms",2);N=Ce([b({components:{ChannelBackupButton:oe}})],N);const Qo={id:"BackupButtons"};function Zo(e,t,o,n,s,r){const i=oe;return a(),c("div",Qo,[(a(!0),c(P,null,M(e.platforms,p=>(a(),_(i,{key:p,platform:p},null,8,["platform"]))),128))])}const en=y(N,[["render",Zo],["__scopeId","data-v-a89a7b6f"]]);var tn=Object.defineProperty,sn=Object.getOwnPropertyDescriptor,Ie=(e,t,o,n)=>{for(var s=n>1?void 0:n?sn(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&tn(t,o,s),s};let H=class extends ${constructor(){super(...arguments);d(this,"messages")}};Ie([g({required:!0})],H.prototype,"messages",2);H=Ie([b({})],H);const on={class:"cd"},nn=["innerHTML"];function rn(e,t,o,n,s,r){return a(),c("div",on,[(a(!0),c(P,null,M(e.messages,i=>(a(),c("p",{key:i[0]},[(a(!0),c(P,null,M(i,p=>(a(),c("span",{key:p,innerHTML:p},null,8,nn))),128))]))),128))])}const an=y(H,[["render",rn]]);var ln=(e,t,o,n)=>{for(var s=t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=i(s)||s);return s};let Z=class extends ${};Z=ln([b({})],Z);const cn={class:"column-view"};function dn(e,t,o,n,s,r){return a(),c("div",cn,[te(e.$slots,"default")])}const un=y(Z,[["render",dn]]),pn={viewBox:"0 0 640 512",width:"1.2em",height:"1.2em"},hn=l("path",{fill:"currentColor",d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0z"},null,-1),mn=[hn];function fn(e,t){return a(),c("svg",pn,[...mn])}const _n={name:"fa6-solid-link",render:fn};var gn=Object.defineProperty,vn=Object.getOwnPropertyDescriptor,Se=(e,t,o,n)=>{for(var s=n>1?void 0:n?vn(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&gn(t,o,s),s};let z=class extends ${constructor(){super(...arguments);d(this,"icon")}getIcon(t){if(t=t.toLowerCase(),_o.includes(t))return`fab fa-${t}`;if(t.startsWith("custom-icon:"))return t.replace("custom-icon:","")}getIconifyIcon(t){if(t.startsWith("iconify:"))return t.replace("iconify:","")}};Se([g()],z.prototype,"icon",2);z=Se([b({components:{Icon:_e}})],z);function wn(e,t,o,n,s,r){const i=E("Icon"),p=_n;return e.getIcon(e.icon)?(a(),c("i",{key:0,class:J(e.getIcon(e.icon))},null,2)):e.getIconifyIcon(e.icon)?(a(),_(i,{key:1,icon:e.getIconifyIcon(e.icon)},null,8,["icon"])):(a(),_(p,{key:2}))}const Pe=y(z,[["render",wn]]);var bn=Object.defineProperty,$n=Object.getOwnPropertyDescriptor,Me=(e,t,o,n)=>{for(var s=n>1?void 0:n?$n(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&bn(t,o,s),s};let q=class extends ${constructor(){super(...arguments);d(this,"hover");d(this,"blur","");d(this,"isblur",!1)}mounted(){this.blur="filter: blur(5px);",this.isblur=!0}click(){this.hover||(this.isblur?this.blur="filter: none;":this.blur="filter: blur(5px);",this.isblur=!this.isblur)}hovering(){this.hover&&this.isblur&&(this.isblur=!this.isblur,this.blur="filter: none;")}leave(){this.hover&&(this.isblur||(this.isblur=!this.isblur,this.blur="filter: blur(5px);"))}};Me([g({required:!1})],q.prototype,"hover",2);q=Me([b({})],q);function yn(e,t,o,n,s,r){return a(),c("div",{class:"blur",style:W(e.blur),onClick:t[0]||(t[0]=i=>e.click()),onMouseover:t[1]||(t[1]=i=>e.hovering()),onMouseleave:t[2]||(t[2]=i=>e.leave())},[te(e.$slots,"default")],36)}const Cn=y(q,[["render",yn]]);var In=Object.defineProperty,Sn=Object.getOwnPropertyDescriptor,Be=(e,t,o,n)=>{for(var s=n>1?void 0:n?Sn(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&In(t,o,s),s};let F=class extends ${constructor(){super(...arguments);d(this,"viewerIndex",null);d(this,"photos");d(this,"photoList");d(this,"rotations",[])}created(){this.photoList=(typeof this.photos=="string"?JSON.parse(this.photos):this.photos).map(o=>({url:o})),this.rotations=this.photoList.map(()=>go(-15,15))}};Be([g()],F.prototype,"photos",2);F=Be([b({components:{ImageViewer:Do}})],F);const Pn={class:"ps-wrapper"},Mn={id:"PhotoScroll"},Bn=["src"];function Dn(e,t,o,n,s,r){const i=E("ImageViewer");return a(),c("div",Pn,[l("div",Mn,[(a(!0),c(P,null,M(e.photoList,(p,C)=>(a(),c("img",{key:C,src:p.url,alt:"",class:"stacked photo-frame-5",draggable:"false",style:W({transform:`translate(-50%, -50%) translateX(80px) rotate(${e.rotations[C]}deg)`,"z-index":e.photoList.length-C+1,"min-width":"150px","object-fit":"cover"}),onClick:t[0]||(t[0]=()=>e.viewerIndex=0)},null,12,Bn))),128)),B(i,{index:e.viewerIndex,"onUpdate:index":t[1]||(t[1]=p=>e.viewerIndex=p),imgs:e.photoList},null,8,["index","imgs"])])])}const Tn=y(F,[["render",Dn]]),De=ue({name:"MDX",props:{code:{type:String,required:!0},margins:{type:Boolean,required:!1}},setup(e){const t=de(()=>{if(!e.code)return null;const o=new Function("exports","Vue",e.code),n={};return o(n,Eo),n.default});return()=>{var o;return B("div",{class:"markdown-content",style:e.margins?{margin:"10px min(4vw, 40px)"}:{}},[(o=t.value)==null?void 0:o.call(t,{components:{BackupButtons:en,Banner:Go,BlurBlock:Cn,ChannelBackupButton:oe,CapDownQuote:an,ColumnView:un,DynamicIcon:Pe,PhotoScroll:Tn,Sakura:vo}})])}}});var On=(e,t,o,n)=>{for(var s=t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=i(s)||s);return s};let ee=class extends ${};ee=On([b({components:{}})],ee);const Ln={xmlns:"http://www.w3.org/2000/svg",class:"switching",viewBox:"0 0 24 24"},kn=l("g",{fill:"none",stroke:"rgba(166, 134, 89, 0.84)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[l("path",{d:"m18 2l3 3l-3 3M6 22l-3-3l3-3"}),l("path",{d:"M21 5H10a7 7 0 0 0-7 7m0 7h11a7 7 0 0 0 7-7"})],-1),xn=[kn];function En(e,t,o,n,s,r){return a(),c("svg",Ln,xn)}const jn=y(ee,[["render",En]]),Rn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Vn=l("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"},null,-1),An=l("path",{fill:"currentColor",d:"m469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),Nn=[Vn,An];function Hn(e,t){return a(),c("svg",Rn,[...Nn])}const zn={name:"ep-edit",render:Hn},qn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Fn=l("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"},null,-1),Un=[Fn];function Jn(e,t){return a(),c("svg",qn,[...Un])}const Wn={name:"ep-loading",render:Jn},Kn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Gn=l("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744m-54.464-36.032a322 322 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),Yn=[Gn];function Xn(e,t){return a(),c("svg",Kn,[...Yn])}const Qn={name:"ep-lollipop",render:Xn},Zn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},er=l("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),tr=[er];function sr(e,t){return a(),c("svg",Zn,[...tr])}const or={name:"ep-check",render:sr};var nr=Object.defineProperty,rr=Object.getOwnPropertyDescriptor,K=(e,t,o,n)=>{for(var s=n>1?void 0:n?rr(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&nr(t,o,s),s};let L=class extends ${constructor(){super(...arguments);d(this,"userid");d(this,"p");d(this,"screenshotMode");d(this,"flowers",0);d(this,"flowersGiven",!1);d(this,"isBirthday",!1);d(this,"canSwitch",!1);d(this,"target",".");d(this,"sourceTarget",".");d(this,"inWarning",!1);d(this,"loading",new Set);d(this,"t",h)}created(){this.flowersGiven=localStorage.getItem(`last_flower_given@${this.userid}`)===re(),fetch(T(x,"birthday-list.json")).then(t=>t.json()).then(t=>{t=t;for(const o of t)if(o[0]==this.userid){const n=new Date(o[1]),s=new Date;s.getDate()==n.getDate()&&s.getMonth()==n.getMonth()&&(this.isBirthday=!0)}}),fetch(X+`/flowers/get?id=${this.userid}`).then(t=>t.text()).then(t=>{ge(`Flowers: ${t}`),this.flowers=parseInt(t)}),fetch(T(x,"switch-pair.json")).then(t=>t.json()).then(t=>{const o=t;for(const n of o)if(n[0]==this.userid){this.canSwitch=!0,this.target=`/profile/${n[1]}`,this.sourceTarget=this.target;const s=wo(T(x,"trigger-list.json"));JSON.parse(s).includes(n[1])&&(this.target=null,this.inWarning=!0)}})}flower(){this.flowersGiven||this.loading.has("flower")||(this.loading.add("flower"),fetch(X+`/flowers/give?id=${this.userid}`).then(()=>{this.flowers+=1,this.flowersGiven=!0,localStorage.setItem(`last_flower_given@${this.userid}`,re())}).finally(()=>this.loading.delete("flower")),bo(this.p.name),this.isBirthday&&$o(this.p.name))}get flowerText(){return yo(this.flowers)}switchWarn(){this.inWarning&&S.fire({title:this.t.switch_warning.title,text:this.t.switch_warning.text,icon:"warning",showCancelButton:!1,showCloseButton:!1,showConfirmButton:!0,allowOutsideClick(){return!1},timer:3e5,timerProgressBar:!0,iconColor:"#d20f39",allowEscapeKey(){return!1},allowEnterKey(){return!1},customClass:"view-limit-alert"}).then(t=>{t.isConfirmed&&(this.target=this.sourceTarget,this.inWarning=!1)})}edit(){S.fire({title:h.nav_what_to_edit,icon:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:h.nav_profile_card,cancelButtonText:h.nav_introduction}).then(t=>{t.isConfirmed?Co.push(`/edit-info/${this.p.id}`):t.dismiss===S.DismissReason.cancel&&open(`https://github.com/one-among-us/data/tree/main/people/${this.userid}/page.md`)})}get profileUrl(){return ve(this.p.profileUrl,this.userid)}};K([g({required:!0})],L.prototype,"userid",2);K([g({required:!0})],L.prototype,"p",2);K([g({default:!1})],L.prototype,"screenshotMode",2);L=K([b({components:{Icon:_e}})],L);const ir="/favicon-large.png",j=e=>(he("data-v-971291ac"),e=e(),pe(),e),ar={key:0,id:"info",class:"font-custom fbox-h"},lr={id:"left",class:"fbox-v"},cr=["src"],dr=j(()=>l("div",{class:"spacer"},null,-1)),ur={key:0,id:"buttons"},pr={class:"button-container"},hr={class:"text-under-button"},mr={class:"button-container edit"},fr=j(()=>l("div",{class:"text-under-button"},"Edit",-1)),_r=j(()=>l("div",{class:"spacer-bottom f-grow1"},null,-1)),gr={id:"right"},vr={id:"name-box"},wr={id:"name-text"},br={id:"id"},$r=j(()=>l("div",{id:"hr"},null,-1)),yr={id:"fields",class:"f-grow1"},Cr={class:"key"},Ir={class:"value"},Sr={key:0,id:"websites"},Pr={id:"websites-text"},Mr={id:"websites-container"},Br=["href"],Dr=["href"],Tr=j(()=>l("img",{class:"watermark",draggable:"false",src:ir,alt:""},null,-1));function Or(e,t,o,n,s,r){var ne;const i=or,p=E("Icon"),C=Qn,u=Wn,v=Oo,I=zn,Ee=Pe,je=jn;return e.p?(a(),c("div",ar,[l("div",lr,[l("img",{src:e.profileUrl,draggable:"false",alt:"profile"},null,8,cr),dr,e.screenshotMode?f("",!0):(a(),c("div",ur,[l("div",pr,[B(v,{content:"献花","show-after":1e3,disabled:e.flowersGiven||e.loading.has("flower")},{default:se(()=>[l("div",{class:J(["button anim fbox-vcenter",e.flowersGiven||e.loading.has("flower")?"disabled":""]),onClick:t[0]||(t[0]=(...w)=>e.flower&&e.flower(...w))},[e.flowersGiven?(a(),_(i,{key:0})):e.isBirthday&&!e.loading.has("flower")?(a(),_(p,{key:1,class:"iconR",icon:"line-md:cake"})):e.loading.has("flower")?(a(),_(u,{key:3})):(a(),_(C,{key:2}))],2)]),_:1},8,["disabled"]),l("div",hr,m(e.flowerText),1)]),l("div",mr,[l("div",{class:"button anim fbox-vcenter",onClick:t[1]||(t[1]=(...w)=>e.edit&&e.edit(...w))},[B(I)]),fr])])),_r]),l("div",gr,[l("div",vr,[l("span",wr,m(e.p.name),1),l("span",br,"@"+m(e.p.id),1)]),$r,l("ul",yr,[(a(!0),c(P,null,M(e.p.info,w=>(a(),c("li",{key:w[0]},[l("span",Cr,m(w[0])+"：",1),l("span",Ir,m(w[1]),1)]))),128))]),(ne=e.p.websites)!=null&&ne.length?(a(),c("div",Sr,[l("span",Pr,m(e.t.nav_website),1),l("span",Mr,[(a(!0),c(P,null,M(e.p.websites,w=>(a(),c("a",{key:w[0],href:w[1],target:"_blank"},[B(Ee,{icon:w[0]},null,8,["icon"])],8,Br))),128))])])):f("",!0)]),e.canSwitch?(a(),c("a",{key:0,class:"switchButton",href:e.target,onClick:t[2]||(t[2]=w=>e.switchWarn()),draggable:"false"},[B(je)],8,Dr)):f("",!0),Tr])):f("",!0)}const Te=y(L,[["render",Or],["__scopeId","data-v-971291ac"]]);function le(e){return e*Math.PI/180}function Oe(e){return e%400==0||e%4==0&&e%100!=0}function Lr(e,t,o){const n=[0,31,28,31,30,31,30,31,31,30,31,30,31];let s=o;for(t>2&&(s+=Oe(e)?1:0);--t>0;)s+=n[t];return s}function Le(e,t,o,n){const s=-le(23.44)*Math.cos(2*Math.PI/(365+(Oe(e)?1:0))*(Lr(e,t,o)+10));return-Math.tan(le(n))*Math.tan(s)}function ke(e){e>Math.PI&&(e-=2*Math.PI);const t=Math.floor(43200+e*43200/Math.PI),o=Math.floor(t/3600),n=Math.floor((t-3600*o)/60),s=Math.floor((t-3600*o)%60);return{hour:o,minute:n,second:s}}function kr(e,t,o,n){return ke(Math.acos(Le(e,t,o,n)))}function xr(e,t,o,n){return ke(-Math.acos(Le(e,t,o,n)))}var Er=Object.defineProperty,jr=Object.getOwnPropertyDescriptor,xe=(e,t,o,n)=>{for(var s=n>1?void 0:n?jr(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&Er(t,o,s),s};let U=class extends ${constructor(){super(...arguments);d(this,"p");d(this,"textInputCache","");d(this,"textInputKey");d(this,"showCaptchaPrompt",!1);d(this,"comments",[]);d(this,"t",h);d(this,"trim",V)}getComments(){const o=this.p.comments.map(s=>({...s,anonymous:s.submitter==="Anonymous",content:ae(s.content.replaceAll(`
`,"<br />")),replies:s.replies?s.replies.map(r=>({...r,content:ae(r.content.replaceAll(`
`,"<br />"))})):[]})),n=JSON.parse(localStorage.getItem("myComments"));if(!n)return o;if(this.p.id in n&&n[this.p.id]!=null)for(const s of n[this.p.id]){let r=!0;for(const i of o)if(s.content.replaceAll("||","").replaceAll(`
`,"").replaceAll("<br />","").replaceAll(" ","")==i.content.replaceAll('<span class="spoiler"><span>',"").replaceAll("</span></span>","").replaceAll("<br />","").replaceAll(" ","")){r=!1;break}r&&o.push(s)}return o}btnSend(){this.showCaptchaPrompt=!0}submitRequest(o){this.showCaptchaPrompt=!1;const n={id:this.p.id,content:this.textInput,...o};ge(n),S.fire({title:h.nav_comment_submit,showConfirmButton:!1,icon:null,didOpen:()=>{S.showLoading(null),Io(X+"/comment/add",{method:"POST",params:n}).then(()=>{S.fire({title:h.nav_success,text:h.nav_success_text_reply,icon:"success",timer:5e3,timerProgressBar:!0,showConfirmButton:!0,confirmButtonText:h.nav_ok_1,showCloseButton:!0}),this.comments.push({content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0});let s=JSON.parse(localStorage.getItem("myComments"));s||(s={}),!(this.p.id in s)||s[this.p.id]==null?s[this.p.id]=[{content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0}]:s[this.p.id].push({content:this.textInput.replaceAll(`
`,"<br />"),replies:[],submitter:"You",id:0}),localStorage.setItem("myComments",JSON.stringify(s)),this.textInput="",this.resizeInput()}).catch(s=>{So(s),S.fire({title:h.nav_failed,text:h.nav_fail_reason+s.message,icon:"error",timer:5e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!1}),this.resizeInput()})}})}created(){this.textInputKey=`draft-${this.p.id}`,this.textInputCache=localStorage.getItem(this.textInputKey)??"",this.comments=this.getComments(),localStorage.getItem("myComments")||localStorage.setItem("myComments","{}")}get textInput(){return V(this.textInputCache.trim(),`
`)}set textInput(o){this.textInputCache=o,localStorage.setItem(this.textInputKey,o)}mounted(){this.resizeInput(),To()}resizeInput(){const o=this.$refs.input;o&&(o.style.height="auto",o.style.height=`${o.scrollHeight+18}px`)}};xe([g()],U.prototype,"p",2);U=xe([b({components:{MarkdownTooltip:we,SubmitPrompt:be}})],U);const Rr={id:"ProfileComments",class:"markdown-content"},Vr=["innerHTML"],Ar={key:0,class:"from anonymous"},Nr={key:1,class:"from"},Hr={key:2,class:"replies"},zr={class:"reply-title"},qr=["innerHTML"],Fr={class:"from"},Ur={key:1,id:"add-comment"},Jr=["placeholder"],Wr={key:0,id:"send-comment-btn"},Kr={class:"char-count unselectable"};function Gr(e,t,o,n,s,r){const i=Lo,p=we,C=be;return a(),c("div",Rr,[l("h1",null,m(e.p.id=="tdor"?e.t.tdor_comment:e.t.nav_comments),1),e.p.comments.length>0?(a(),_(ce,{key:0,tag:"div",name:"comment-list",id:"comments"},{default:se(()=>[(a(!0),c(P,null,M(e.comments,u=>(a(),c("div",{class:"comment",key:u.id},[l("span",{class:"content",innerHTML:u.content},null,8,Vr),u.anonymous?(a(),c("span",Ar,m(e.t.nav_anonymous),1)):(a(),c("span",Nr,"——"+m(u.submitter),1)),u.replies.length?(a(),c("div",Hr,[l("div",zr,m(e.t.nav_comment_in_reply_to)+" @"+m(u.submitter),1),(a(!0),c(P,null,M(u.replies,(v,I)=>(a(),c("div",{class:"reply",key:I},[l("span",{class:"content",innerHTML:v.content},null,8,qr),l("span",Fr,"——"+m(v.submitter),1)]))),128))])):f("",!0)]))),128))]),_:1})):f("",!0),e.p.id!="tdor"?(a(),c("div",Ur,[fe(l("textarea",{id:"comment-textarea","onUpdate:modelValue":t[0]||(t[0]=u=>e.textInput=u),placeholder:e.t.nav_comment_placeholder,onInput:t[1]||(t[1]=(...u)=>e.resizeInput&&e.resizeInput(...u)),ref:"input"},null,40,Jr),[[me,e.textInput]]),e.textInput.trim().length>0?(a(),c("div",Wr,[l("span",Kr,m(e.trim(e.textInput.trim(),`
`).length)+" "+m(e.t.nav_comment_status),1),B(i,{class:"icon",onClick:e.btnSend},null,8,["onClick"])])):f("",!0),B(p,{"text-area-id":"comment-textarea"})])):f("",!0),e.showCaptchaPrompt?(a(),_(C,{key:2,onSubmit:e.submitRequest,onClose:t[2]||(t[2]=u=>e.showCaptchaPrompt=!1)},null,8,["onSubmit"])):f("",!0)])}const Yr=y(U,[["render",Gr]]);var Xr=Object.defineProperty,Qr=Object.getOwnPropertyDescriptor,G=(e,t,o,n)=>{for(var s=n>1?void 0:n?Qr(t,o):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&Xr(t,o,s),s};let k=class extends ${constructor(){super(...arguments);d(this,"userid");d(this,"screenshotMode");d(this,"lang");d(this,"p",null);d(this,"compiledMdxCode","");d(this,"isBirthday",[])}get pid(){return this.userid=="tdov"?"tdor":this.userid}created(){const o=Po(this.pid);localStorage.setItem("showBtn","1"),this.lang&&(Mo(this.lang),localStorage.setItem("showBtn","")),ie(T(o,"info.json")).then(n=>n.text()).then(n=>{this.p=ko(n),this.pid=="tdor"&&(this.p.id="tdor")}),fetch(T(x,"birthday-list.json")).then(n=>n.json()).then(n=>{n=n;for(const s of n)if(s[0]==this.userid){const r=new Date(s[1]),i=new Date;if(i.getDate()==r.getDate()&&i.getMonth()==r.getMonth())for(let p=0;p<O.count;++p)this.isBirthday.push(R(0,2147483648))}}),this.pid!="tdor"&&(this.screenshotMode||ie(T(o,"page.json")).then(n=>n.json()).then(n=>this.compiledMdxCode=ve(n,this.pid)),this.checkViewLimit())}checkViewLimit(){if(this.screenshotMode)return;const o=(()=>{const u=new Date,v=kr(u.getFullYear(),u.getMonth()+1,u.getDate(),45),I=xr(u.getFullYear(),u.getMonth()+1,u.getDate(),45);return u.getTime()>new Date(u.getFullYear(),u.getMonth(),u.getDate(),v.hour+2,v.minute,v.second).getTime()?{warningLimit:Math.floor(D.warningLimit/2),errorLimit:Math.floor(D.errorLimit/2),cooldown:D.cooldown}:u.getTime()<new Date(u.getFullYear(),u.getMonth(),u.getDate(),Math.floor(I.hour*.5+2),I.minute,I.second).getTime()?{warningLimit:Math.floor(D.warningLimit/2),errorLimit:Math.floor(D.errorLimit/2),cooldown:D.cooldown}:D})();console.log(o);const n=new Date,[s,r]=[localStorage.getItem("view_limit_time"),localStorage.getItem("view_limit_entries")],[i,p]=[new Date(s),JSON.parse(r??"[]")],C=(n.getTime()-i.getTime())/6e4;if(!s||!r||C>o.cooldown){localStorage.setItem("view_limit_time",new Date().toUTCString()),localStorage.setItem("view_limit_entries",JSON.stringify([this.userid]));return}if(p.includes(this.userid)||(p.push(this.userid),localStorage.setItem("view_limit_entries",JSON.stringify(p)),p.length==o.errorLimit&&localStorage.setItem("view_limit_time",new Date().toUTCString())),p.length>=o.warningLimit&&(console.log(`View limit reached ${o.warningLimit}`),S.fire({title:h.view_limit.title,text:h.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0})),p.length>=o.errorLimit){console.log(`View limit reached ${o.errorLimit}`),S.fire({title:h.view_limit.title,text:h.view_limit.error,icon:"error",showConfirmButton:!1,allowOutsideClick(){return!1},customClass:"view-limit-alert",allowEscapeKey(){return!1},allowEnterKey(){return!1}});const u=new MutationObserver(v=>{v.forEach(I=>{I.removedNodes.length!=0&&I.removedNodes[0].classList&&I.removedNodes[0].classList.contains("swal2-container")&&(u.disconnect(),setTimeout(()=>{S.fire({title:h.view_limit.dom_removed_title,text:h.view_limit.dom_removed,icon:"info"}),localStorage.removeItem("view_limit_time")},100))})});return u.observe(document.body,{childList:!0,subtree:!0}),!0}}updated(){Y(250,()=>{Bo(this.userid)}),Y(1e3,()=>{fetch(T(x,"trigger-list.json")).then(o=>o.json()).then(o=>{if(o.includes(V(window.location.pathname.replace("/profile",""),"/"))){localStorage.getItem("view_limit_entries")||localStorage.setItem("view_limit_entries","[]");const n=JSON.parse(localStorage.getItem("view_limit_entries"));for(n.length<20&&S.fire({title:h.view_limit.title,text:h.view_limit.warning,icon:"warning",timer:3e4,timerProgressBar:!0});n.length<D.errorLimit;)n.push(V(window.location.pathname.replace("/profile",""),"/"));localStorage.setItem("view_limit_entries",JSON.stringify(n))}})})}};G([g({required:!0})],k.prototype,"userid",2);G([g({default:!1})],k.prototype,"screenshotMode",2);G([g({default:""})],k.prototype,"lang",2);k=G([b({components:{ProfileCard:Te,ProfileComments:Yr,MDX:De,Balloon:$e}})],k);function Zr(e,t,o,n,s,r){const i=Te,p=De,C=$e,u=E("ProfileComments");return a(),c("div",null,[e.p?(a(),c("div",{key:0,class:J(["profile-page",{screenshot:e.screenshotMode}])},[e.pid!="tdor"?(a(),_(i,{key:0,class:"profile-card",userid:e.pid,p:e.p,"screenshot-mode":e.screenshotMode},null,8,["userid","p","screenshot-mode"])):f("",!0),e.pid!="tdor"?(a(),_(p,{key:1,class:"content",code:e.compiledMdxCode},null,8,["code"])):f("",!0),(a(!0),c(P,null,M(e.isBirthday,v=>(a(),_(C,{key:v}))),128)),e.p.comments&&!e.screenshotMode?(a(),_(u,{key:2,class:"comments",p:e.p},null,8,["p"])):f("",!0)],2)):f("",!0)])}const fi=y(k,[["render",Zr],["__scopeId","data-v-980326d4"]]);export{fi as default};
