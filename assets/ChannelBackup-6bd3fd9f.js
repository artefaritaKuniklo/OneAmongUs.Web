var B=Object.defineProperty;var g=(t,s,e)=>s in t?B(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var r=(t,s,e)=>(g(t,typeof s!="symbol"?s+"":s,e),e);import{_ as h}from"./ChannelBackupButton-00f7520c.js";import{V as k,E as v,P as f,O as C,_ as D}from"./index-34eb284e.js";import{j as b}from"./index-c5e6e20b-eec75f53.js";import{T as w,N as l,O as i,ah as y,W as j,U as _,l as O}from"./preload-helper-431254ca.js";var P=Object.defineProperty,U=Object.getOwnPropertyDescriptor,c=(t,s,e,a)=>{for(var o=a>1?void 0:a?U(s,e):s,u=t.length-1,n;u>=0;u--)(n=t[u])&&(o=(a?n(s,e,o):n(o))||o);return a&&o&&P(s,e,o),o};const d={tg:"telegram",tw:"twitter"};let p=class extends k{constructor(){super(...arguments);r(this,"userid");r(this,"backup");r(this,"postsUrl",null);r(this,"postsData",null);r(this,"error",null)}get computedBackup(){return this.backup in d?d[this.backup]:this.backup}async created(){try{let e=v(this.userid,this.computedBackup),a=await(await fetch(e)).json();a.redirect&&(e=a.redirect,a=await(await fetch(e)).json()),this.postsData=a,this.postsUrl=e}catch(e){console.log(e),this.error=e}}};c([f({required:!0})],p.prototype,"userid",2);c([f({default:"telegram"})],p.prototype,"backup",2);p=c([C({components:{TgBlog:b,ChannelBackupButton:h}})],p);const $={key:1};function E(t,s,e,a,o,u){const n=h,m=w("TgBlog");return l(),i("div",null,[t.postsUrl?(l(),y(m,{key:0,id:"profile-page","posts-url":t.postsUrl,"posts-data":t.postsData},{default:j(()=>[O(n,{class:"heading",text:"返回",icon:"icon-back",url:`/profile/${t.userid}`},null,8,["url"])]),_:1},8,["posts-url","posts-data"])):_("",!0),t.error?(l(),i("div",$," 加载页面错误... 请重试 ")):_("",!0)])}const A=D(p,[["render",E],["__scopeId","data-v-63e390c4"]]);export{A as default};
